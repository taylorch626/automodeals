function doEmailValidation(){var n=$("#Email").val();$("#lblinvalidemail").html("");$("#lblinvalidemailimg").hide();n!=""&&n!=null?validateEmail(n.trim())?EmailVerficationCheckService(n.trim()):($("#Email").addClass("errorbox"),$("#emailcorrectimg").hide(),$("#lblinvalidemail").html(""),$("#lblinvalidemailimg").show()):($("#emailcorrectimg").hide(),$("#lblinvalidemail").html(""),$("#lblinvalidemailimg").hide(),$("#resultcode").val(""))}function getcarfaxdetails(n,t,i){var f="",e="",o,r,u;IsCarfaxVin&&(f=$("#StateCode option:selected").val(),e=$("#txtLicencePlate").val().trim());IsCarfaxVin&&f!=""&&e!=""?(Issinglelineentry&&($("#hdnYMMDetials").val(""),$("#hdnYMMDetials_autofill").val(""),$("#loopAutocomp").val(""),o=document.getElementById("loopAutocomp")),OldStateCode==f&&OldLicenseCode==e?n=="start"?GetStartDetailstoNextStep():(r=0,r=ValidateVehicleInfo(),u=0,u=ChecktabsVehiclevaidation(),r>0||u>0?($(i).attr("href","#tabs1"),$("#tabsactive").val("#details")):($(i).attr("href","#"+t),$("#tabsactive").val("")),ChangeOptionBasedOnType($("#hdnChangeOptionBasedOnType").val())):($("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:"/Tradeinvallet/RenderVIN",type:"POST",async:!1,data:{VehicleNo:e,StateCode:f},beforeSend:function(){$("#loader-bg").show();$("#loader-content").show()},success:function(r){var f=r.split("/"),o,u,e;if(r!=null&&f.length==1)if(o=r.replace(/^"|"$/g,""),u=f[0].replace(/^"|"$/g,""),u!=null&&u!=""&&(u.length==11||u.length==17))$("#vin").val(u),$.ajax({url:CustAppServiceByChromeData,type:"POST",async:!1,data:JSON.stringify({type:"vin",dealerId:_currentDealerId,vin:u}),beforeSend:function(){$("#loader-bg").show();$("#loader-content").show()},success:function(r){var u,f;OldStateCode=$("#StateCode option:selected").val();OldLicenseCode=$("#txtLicencePlate").val().trim();r!=null&&r.vehicleDescription!=null&&($("#CBRYear").val(r.vehicleDescription.modelYearField),$("#CBRYear").prop("disabled",!0),$("#year").val(r.vehicleDescription.modelYearField),$("#hdnmake").val(r.vehicleDescription.bestMakeNameField),$("#CBRMakes").empty(),$("#hdnDatamodel").val(r.vehicleDescription.bestModelNameField),$("#CBRMakes").append($("<option><\/option>").attr("value",r.vehicleDescription.bestMakeNameField).text(r.vehicleDescription.bestMakeNameField)),$("#CBRMakes").prop("disabled",!0),$("#CBRModel").empty(),$("#CBRModel").append($("<option><\/option>").attr("value",r.vehicleDescription.bestModelNameField).text(r.vehicleDescription.bestModelNameField)),$("#CBRModel").prop("disabled",!0),$("#year").val()=="0"&&Trackingtivrecords($("#year").val(),$("#CBRMakes").val(),$("#CBRModel").val(),"","Desktop","Yearvindeocde",""),$("#CBRYear").val()=="0"&&Trackingtivrecords($("#CBRYear").val(),$("#CBRMakes").val(),$("#CBRModel").val(),"","Desktop","CBRYearvindeocde",""),FillTrimFieldData(r),n=="start"?GetStartDetailstoNextStep():(u=0,u=ValidateVehicleInfo(),f=0,f=ChecktabsVehiclevaidation(),u>0||f>0?($(i).attr("href","#tabs1"),$("#tabsactive").val("#details")):($(i).attr("href","#"+t),$("#tabsactive").val(""),ChangeOptionBasedOnType($("#hdnChangeOptionBasedOnType").val()))));$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}});else return $("#spnErrmsg").html("<span>VIN is not valid.<\/span>"),$("#loader-bg").hide(),$("#loader-content").hide(),$(i).attr("href","#tabs0"),$("#tabsactive").val("#Starts"),!1;else return e="",e=f[0].replace(/^"|"$/g,"")=="Invalid State"?"No VIN was found for this license plate number":f[0].replace(/^"|"$/g,"")=="No VIN was found for your request"?"No VIN was found for this license plate number":f[0].replace(/^"|"$/g,""),$("#multilangugae").val()=="es"?$("#spnErrmsg").html("<span>No se encontró VIN para su solicitud<\/span>"):$("#spnErrmsg").html("<span>"+e+"<\/span>"),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),$("#loader-bg").hide(),$("#loader-content").hide(),$(i).attr("href","#tabs0"),$("#tabsactive").val("#Starts"),!1}}))):n=="start"?($("#loader-bg").hide(),$("#loader-content").hide(),GetStartDetailstoNextStep()):(r=0,r=ValidateVehicleInfo(),u=0,u=ChecktabsVehiclevaidation(),r>0||u>0?($(i).attr("href","#tabs1"),$("#tabsactive").val("#details")):($(i).attr("href","#"+t),$("#tabsactive").val("")),ChangeOptionBasedOnType($("#hdnChangeOptionBasedOnType").val()))}function Addnewoptionsforjeepvehicle(n,t){var i="0";return n=="Jeep"&&(t.toLowerCase().indexOf("wrangler")>-1||t.toLowerCase().indexOf("gladiator")>-1||t.toLowerCase().indexOf("cj")>-1)&&(i="1",ChangeOptionBasedOnType("convertible"),$("#hdnChangeOptionBasedOnType").val("convertible"),$("#hdnWranglerAndCjType").val("1")),i}function decodevin(){try{$("#loader-bg").show();$("#loader-content").show();$("#CBREngine").removeClass("errorbox");$("#Engineerrormsgimg").hide();$("#Engineerrormsg").html("");$("#CBRDriveline").removeClass("errorbox");$("#Drivelineerrormsg").html("");$("#Drivelineerrormsgimg").hide();$("#CBREnginetxt").removeClass("errorbox");$("#Engineerrormsgtxt").html("");$("#Engineerrormsgtxtimg").hide();$("#CBRDrivelinetxt").removeClass("errorbox");$("#Drivelineerrormsgtxt").html("");$("#Drivelineerrormsgtxtimg").hide();$("#CBRBodyandStyle").removeClass("errorbox");$("#BodyandStyleerrormsgimg").hide();$("#CBRBodyandStyle").removeClass("errorbox");$("#CBRTrim").removeClass("errorbox");$("#trimerrormsgimg").hide();$("#trimerrormsg").html("");$("#BodyandStyleerrormsgimg").hide();$("#Engineerrormsgimg").hide();$("#yearerrormsgimg").hide();$("#makeerrormsgimg").hide();$("#Datamodelerrormsgimg").hide();$("#BodyandStyleerrormsg").html("");$("#Engineerrormsg").html("");$("#yearerrormsg").html("");$("#makeerrormsg").html("");$("#Datamodelerrormsg").html("");var t=checkVIN(),n=$("#vin").val().toUpperCase();if(t==!0)if(n!=""&&n!=null)if(n.length==11||n.length==17)$("#vinerrormsgimg").hide(),$("#vinerrormsg").html(""),$("#checkvinbool").val(""),$("#vin").removeClass("errorbox"),$("#DecodetextResult").text(""),loopMixpanel&&loopMixpanel.trackEvent("vindecode"),cleardropdowns(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"vin",dealerId:_currentDealerId,vin:n}),success:function(n){n!=null&&n.vehicleDescription!=null&&($("#CBRYear").val(n.vehicleDescription.modelYearField),$("#CBRYear").prop("disabled",!0),$("#year").val(n.vehicleDescription.modelYearField),$("#CBRMakes").empty(),$("#CBRMakes").append($("<option><\/option>").attr("value",n.vehicleDescription.bestMakeNameField).text(n.vehicleDescription.bestMakeNameField)),$("#CBRMakes").prop("disabled",!0),$("#CBRModel").empty(),$("#CBRModel").append($("<option><\/option>").attr("value",n.vehicleDescription.bestModelNameField).text(n.vehicleDescription.bestModelNameField)),$("#CBRModel").prop("disabled",!0),$("#year").val()=="0"&&Trackingtivrecords($("#year").val(),$("#CBRMakes").val(),$("#CBRModel").val(),"","Desktop","Yearvindeocde",""),$("#CBRYear").val()=="0"&&Trackingtivrecords($("#CBRYear").val(),$("#CBRMakes").val(),$("#CBRModel").val(),"","Desktop","CBRYearvindeocde",""),FillTrimFieldData(n),$("select").removeClass("errorbox"));$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}});else return cleardropdowns(),$("#CBRMakes").prop("disabled",!0),$("#CBRModel").prop("disabled",!0),$("#CBRYear").prop("disabled",!1),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),$("#checkvinbool").val("false"),$("#vin").addClass("errorbox"),$("select").removeClass("errorbox"),$("#vinerrormsg").html(ViewResEnglishVincheckvalidation),$("#vinerrormsgimg").show(),$("#loader-bg").hide(),$("#loader-content").hide(),!1;else cleardropdowns(),$("#CBRMakes").prop("disabled",!0),$("#CBRModel").prop("disabled",!0),$("#CBRYear").prop("disabled",!1),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),$("#loader-bg").hide(),$("#loader-content").hide();else return $("#checkvinbool").val("false"),$("#vin").addClass("errorbox"),$("select").removeClass("errorbox"),$("#vinerrormsg").html(ViewResEnglishVincheckvalidation),$("#vinerrormsgimg").show(),$("#loader-bg").hide(),$("#loader-content").hide(),!1}catch(i){$("#loader-bg").hide();$("#loader-content").hide()}}function Trackingtivrecords(n,t,i,r,u,f,e){var o={year:n,make:t,model:i,tivdealertype:r,Trackingtivsites:u,Trackingarea:f,AuctionuserId:e};$.ajax({url:"/Tradeinvallet/AddTivrecordstrackingdetails",type:"POST",data:o,success:function(){},error:function(){}})}function FillTrimFieldData(n){var t,i,r,u;vehidescFillStylesafterTrims=n;TrimData=n;$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle));$("#CBRBodyandStyle").prop("disabled",!1);OpenEngandDriveline();$("#CBRTransmission").empty();$("#CBRTransmission").append($("<option><\/option>").attr("value","0").text(ViewResEnglishtransmission));$("#CBRTransmission").prop("disabled",!1);$(".hideddls").hide();$("#dvshowtextNeedinfo").hide();$("#dvBSWhenIsCarfaxVin").hide();$(".hidesubvehicledetails").show();$("#CBRTrim").empty();$("#CBRTrim").prop("disabled",!1);$("#CBRBodyandStyle").prop("disabled",!0);try{n!=null&&n.vehicleDescription!=null&&n.vehicleDescription.styleField!=null&&($.each(n.vehicleDescription.styleField,function(n,t){t.subdivisionField.valueField.indexOf("Chassis-Cabs")==-1&&(t.trimField!=null&&$("#CBRTrim option").filter(function(){return $(this).html()==t.trimField}).val()==undefined?$("#vin").val()==""&&t.modelField.idField==$("#CBRModel").val()?$("#CBRTrim").append($("<option><\/option>").attr("value",t.trimField).text(t.trimField)):$("#CBRTrim").append($("<option><\/option>").attr("value",t.trimField).text(t.trimField)):t.trimField==null&&$("#CBRTrim option").filter(function(){return $(this).html()=="Base"}).val()==undefined&&($("#CBRTrim").append($("<option><\/option>").attr("value","Base").text("Base")),$("#trimerrormsgimg").hide(),$("#trimerrormsg").html(""),$("#CBRTrim").removeClass("errorbox")))}),t=$("#CBRTrim > option").length,t!=null&&t>1?($("#CBRTrim").trigger("refresh"),sortSelect(document.getElementById("CBRTrim")),$("#CBRTrim option[value='0']").remove(),$("<option value='0'>"+ViewResEnglishTrim+"<\/option>").insertBefore($("#CBRTrim option:first-child")),$("#CBRTrim option").filter(function(){return $(this).html()=="Base"}).val()!=undefined&&($("#CBRTrim option[value='Base']").remove(),$("<option value='Base'>Base<\/option>").insertAfter($("#CBRTrim option:last-child"))),$("#CBRTrim").val("0"),$("#CBRTrim").prop("disabled",!1),IsCarfaxVin&&($("#dvTrimWhenIsCarfaxVin").show(),$("#dvshowtextNeedinfo").show(),$("#dvBSWhenIsCarfaxVin").hide(),$("#CBRTrim  option:selected").val()!="0"?$("#spnvehicledetails").html(n.vehicleDescription.modelYearField+" "+n.vehicleDescription.bestMakeNameField+" "+n.vehicleDescription.bestModelNameField+" "+$("#hdntrim").val()):$("#spnvehicledetails").html(n.vehicleDescription.modelYearField+" "+n.vehicleDescription.bestMakeNameField+" "+n.vehicleDescription.bestModelNameField))):(t!=null&&t==0?($("#CBRTrim").append($("<option><\/option>").attr("value","Base").text("Base")),$("#trimerrormsgimg").hide(),$("#trimerrormsg").html(""),$("#CBRTrim").removeClass("errorbox")):t!=null&&t>=1&&$("#CBRTrim option").filter(function(){return $(this).html()=="Base"}).val()!=undefined&&($("<option value='Base'>Base<\/option>").insertAfter($("#CBRTrim option:last-child")),$("#CBRTrim").val("Base"),$("#hdntrim").val("Base"),$("#trimerrormsgimg").hide(),$("#trimerrormsg").html(""),$("#CBRTrim").removeClass("errorbox")),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").prop("disabled",!1),n.vehicleDescription.styleField.length>1?($("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").text(ViewResEnglishBodyandStyle)),$.each(n.vehicleDescription.styleField,function(n,t){if(t.subdivisionField.valueField.indexOf("Chassis-Cabs")==-1){var i=changesinStyleField(t.nameWoTrimField);$("#CBRBodyandStyle option").filter(function(){return $(this).html()==i}).val()==undefined&&$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",t.idField).text(i))}}),$("#hdntrim").val($("#CBRTrim").val()),IsCarfaxVin&&(i=$("#CBRBodyandStyle > option").length,i!=null&&i>1&&($("#dvTrimWhenIsCarfaxVin").hide(),$("#dvBSWhenIsCarfaxVin").show(),$(".hideddls").hide(),$("#dvshowtextNeedinfo").show(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide(),$("#spnvehicledetails").html(n.vehicleDescription.modelYearField+" "+n.vehicleDescription.bestMakeNameField+" "+n.vehicleDescription.bestModelNameField+" "+$("#CBRTrim").val())))):($("#CBRBodyandStyle").prop("disabled",!0),n.vehicleDescription.styleField[0].nameWoTrimField!=null&&n.vehicleDescription.styleField[0].subdivisionField.valueField.indexOf("Chassis-Cabs")==-1&&(r=n.vehicleDescription.styleField[0].nameWoTrimField,u=changesinStyleField(r),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",n.vehicleDescription.styleField[0].idField).text(u)),$("#BodyandStyleerrormsgimg").hide(),$("#BodyandStyleerrormsg").html(""),$("#CBRBodyandStyle").removeClass("errorbox"),$("#dvTrimWhenIsCarfaxVin").hide(),$("#dvBSWhenIsCarfaxVin").hide(),getEngineAndDriveline(n,n.vehicleDescription.styleField[0].idField)))))}catch(f){$("#CBRTrim").val("0");$("#CBRTrim").prop("disabled",!1);$.ajax({url:"/ApplicationLog/LogClientSideError",type:"POST",data:{exception:f.toString()},success:function(n){n.Success||console.error(n.Details)}})}}function Modelyearbinding(){return $("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"year",dealerId:_currentDealerId}),success:function(n){n!=null&&n.years!=null&&(YearList=n.years,$("#CBRTrim").prop("disabled",!0),$("#CBRModel").prop("disabled",!0),$("#CBRMakes").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),OpenEngandDriveline(),$("#CBRYear").empty(),$("#CBRYear").append($("<option><\/option>").attr("value","0").html(ViewResEnglishYear)),$.each(n.years,function(n,t){$("#CBRYear").append($("<option><\/option>").attr("value",t).text(t))}));$("html, body").animate({scrollTop:0},500);$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}}),""}function FCAModelyearbinding(n,t,i){return $("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"year",dealerId:_currentDealerId}),success:function(r){r!=null&&r.years!=null&&(YearList=r.years,($("#checkbox-Sterlingused").is(":checked")||n!="True"&&t!="True"&&i!=="True"||$("#checkbox-Sterlingcpo").is(":checked")&&i=="True")&&($("#FCACBRMakes").prop("disabled",!0),$("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishYear))),$("#FCACBRModel").prop("disabled",!0),$("#FCACBRYear").empty(),$("#FCACBRYear").append($("<option><\/option>").attr("value","0").html(ViewResEnglishYear)),$("#FCACBRModel").empty(),$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishYear)),$.each(r.years,function(n,t){$("#FCACBRYear").append($("<option><\/option>").attr("value",t).text(t))}),n=="True"||t=="True"||i=="True"?$("#checkbox-Sterlingnew").is(":checked")?($("#FCACBRYear option:gt(2)").remove(),n=="True"&&$("#FCACBRYear option:eq(1)").remove()):$("#checkbox-Sterlingcpo").is(":checked")&&(i=="True"||t=="True"?($("#FCACBRYear option:gt(8)").remove(),n=="True"&&$("#FCACBRYear option:eq(1)").remove()):($("#FCACBRYear option:gt(5)").remove(),$("#FCACBRYear option:eq(1)").remove())):$("#checkbox-Sterlingnew").is(":checked")&&$("#FCACBRYear option:gt(2)").remove());$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}}),""}function getEngineAndDriveline(n,t){try{$("#loader-bg").show();$("#loader-content").show();$("#chromeStyleId").val(t);$("#modelCode").val(FindModelCode(t));$("#vin").val()!=undefined&&$("#vin").val()!=""?FillEngineandDriveLine(n,n):$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"bodyandstyle",dealerId:_currentDealerId,styleId:t}),success:function(i){FillEngineandDriveLine(n,i,t)}})}catch(i){$("#loader-bg").hide();$("#loader-content").hide()}}function FillEngineandDriveLine(n,t,i){var e,u,s,c,l,f,h,o;if(ChromeDataService=t,Issinglelineentry||IsCarfaxVin?($("#year").val(t.vehicleDescription.modelYearField),$("#hdnmake").val(t.vehicleDescription.bestMakeNameField),$("#hdnDatamodel").val(t.vehicleDescription.bestModelNameField),Issinglelineentry&&$("#hdnYMMDetials").val()!=""&&(t.vehicleDescription.bestTrimNameField!=null?$("#hdntrim").val(t.vehicleDescription.bestTrimNameField):$("#hdntrim").val("Base"),$("#hdnBodyandStyle").val(changesinStyleField(t.vehicleDescription.styleField[0].nameWoTrimField)))):$("#vin").val()!=""&&(t=n),$("#loader-bg").hide(),$("#loader-content").hide(),t!=null&&t.vehicleDescription!=null){e=0;t.vehicleDescription.styleField[0].altBodyTypeField!=null&&(t.vehicleDescription.styleField[0].altBodyTypeField.toLowerCase()=="sport utility"||t.vehicleDescription.styleField[0].altBodyTypeField.toLowerCase()=="convertible")?(u=Addnewoptionsforjeepvehicle(t.vehicleDescription.bestMakeNameField,t.vehicleDescription.bestModelNameField),u=="0"&&(ChangeOptionBasedOnType(t.vehicleDescription.styleField[0].altBodyTypeField),$("#hdnChangeOptionBasedOnType").val(t.vehicleDescription.styleField[0].altBodyTypeField))):t.vehicleDescription.styleField[0].marketClassField!=null&&t.vehicleDescription.styleField[0].marketClassField.valueField.toLowerCase().indexOf("trucks")>-1?(u=Addnewoptionsforjeepvehicle(t.vehicleDescription.bestMakeNameField,t.vehicleDescription.bestModelNameField),u=="0"&&(ChangeOptionBasedOnType("trucks"),$("#hdnChangeOptionBasedOnType").val("trucks"))):(u=Addnewoptionsforjeepvehicle(t.vehicleDescription.bestMakeNameField,t.vehicleDescription.bestModelNameField),u=="0"&&$("#hdnChangeOptionBasedOnType").val(""));$("#hdnEngine").val("");$("#dvEnginetxt").hide();$("#dvEnginedropdown").show();$("#CBREngine").empty();$("#CBREngine").append($("<option><\/option>").attr("value","0").html(ViewResEnglishEngine));$("#CBREngine").prop("disabled",!1);t.vehicleDescription.factoryOptionField!=null&&t.vehicleDescription.factoryOptionField.length>0&&$.each(t.vehicleDescription.factoryOptionField,function(n,t){if(t.headerField!=null&&t.headerField.valueField.toLowerCase()=="engine"){var r=t.styleIdField.indexOf(Number(i));r>-1&&(e++,$("#CBREngine").append($("<option><\/option>").attr("value",t.descriptionField).text(t.descriptionField)))}});e==0&&t.vehicleDescription.engineField!=null&&t.vehicleDescription.engineField.length>0&&$.each(t.vehicleDescription.engineField,function(n,t){var r,i,f,u;e++;r=t.fuelTypeField.valueField;r=r==null?"":r;i="";t.horsepowerField!=null&&(i=t.horsepowerField.valueField+" @ "+t.horsepowerField.rpmField);i=i==null?"":i;f=t.displacementField==null?"":t.displacementField[0].valueField+"L ";u=f+t.engineTypeField.valueField+" "+r+" "+i;$("#CBREngine").append($("<option><\/option>").attr("value",u).text(u))});e==0&&($("#hdnEngine").val(""),$("#CBREnginetxt").val(""),$("#CBREnginetxt").prop("disabled",!1),$("#dvEnginedropdown").hide(),$("#dvEnginetxt").show(),$(".hideddls").show(),$("#dvEnginedropdown").hide(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide());e==1&&($("#CBREngine option[value='0']").remove(),$("#CBREngine").prop("disabled",!0),$("#dvEnginetxt").hide(),$("#Engineerrormsg").html(""),$("#Engineerrormsgimg").hide(),$("#CBREngine").removeClass("errorbox"),(Issinglelineentry||IsCarfaxVin)&&($(".hideddls").show(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide(),$("#dvEnginedropdown").hide(),Issinglelineentry&&$("#hdnYMMDetials").val()!=""||IsCarfaxVin&&$("#spnvehicledetails").html(t.vehicleDescription.modelYearField+" "+t.vehicleDescription.bestMakeNameField+" "+t.vehicleDescription.bestModelNameField+" "+$("#CBRTrim option:selected").val()+" ")));s=0;$("#hdnDriveline").val("");t.vehicleDescription.standardField!=null&&t.vehicleDescription.standardField.length>0?($("#dvDrivelinedropdown").show(),$("#dvDrivelinetxt").hide(),$("#CBRDriveline").empty(),$("#CBRDriveline").append($("<option><\/option>").attr("value","0").text(ViewResEnglishDriveline)),$("#CBRDriveline").prop("disabled",!1),$.each(t.vehicleDescription.standardField,function(n,t){if(t.descriptionField.toLowerCase().indexOf("wheel drive")>-1)if(s++,t.descriptionField.toLowerCase().indexOf("drivetrain,")>-1){var r=t.descriptionField,i=r.substring(11);$("#CBRDriveline").append($("<option><\/option>").attr("value",i.trim()).text(i.trim()))}else $("#CBRDriveline").append($("<option><\/option>").attr("value",t.descriptionField).text(t.descriptionField))})):($("#CBREnginetxt").val(""),$("#CBRDrivelinetxt").val(""),$("#CBREnginetxt").prop("disabled",!1),$("#CBRDrivelinetxt").prop("disabled",!1),$("#dvDrivelinedropdown").hide(),$("#dvDrivelinetxt").show(),$("#CBRDrivelinetxt").val(0));s==1?($("#CBRDriveline option[value='0']").remove(),$("#CBRDriveline").prop("disabled",!0),$("#dvDrivelinetxt").hide(),$("#Drivelineerrormsgimg").hide(),$("#Drivelineerrormsg").html(""),$("#CBRDriveline").removeClass("errorbox"),(Issinglelineentry||IsCarfaxVin)&&($(".hideddls").show(),$("#dvDrivelinedropdown").hide(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide(),Issinglelineentry&&$("#hdnYMMDetials").val()!=""?$("#spnvehicledetails").html($("#hdnYMMDetials").val()+" "+$("#hdntrim").val()+"  ("+$("#CBRDriveline").val()+")"):IsCarfaxVin&&$("#spnvehicledetails").html(t.vehicleDescription.modelYearField+" "+t.vehicleDescription.bestMakeNameField+" "+t.vehicleDescription.bestModelNameField+" "+$("#hdntrim").val()+"  ("+$("#CBRDriveline").val()+")"))):s==0&&($("#hdnDriveline").val(""),$("#CBRDrivelinetxt").val(""),$("#CBRDrivelinetxt").prop("disabled",!1),$("#dvDrivelinedropdown").hide(),$("#dvDrivelinetxt").show(),$("#CBRDrivelinetxt").val(0),$(".hideddls").show(),$("#dvDrivelinedropdown").hide(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide());e==1&&s==1&&(Issinglelineentry||IsCarfaxVin)&&(Issinglelineentry&&$("#hdnYMMDetials").val()!=""?($("#spnvehicledetails").html($("#hdnYMMDetials").val()+" "+$("#hdntrim").val()+" ("+$("#CBRDriveline").val()+")"),$("#spninfovehicledetails").html($("#hdnYMMDetials").val()+" "+$("#hdntrim").val()+" ( "+$("#CBRDriveline").val()+")")):IsCarfaxVin&&($("#spnvehicledetails").html(t.vehicleDescription.modelYearField+" "+t.vehicleDescription.bestMakeNameField+" "+t.vehicleDescription.bestModelNameField+" "+$("#CBRTrim  option:selected").val()+"  ("+$("#CBRDriveline").val()+")"),$("#spninfovehicledetails").html(t.vehicleDescription.modelYearField+" "+t.vehicleDescription.bestMakeNameField+" "+t.vehicleDescription.bestModelNameField+" "+$("#CBRTrim  option:selected").val()+"  ("+$("#CBRDriveline").val()+")")),$(".hideddls").hide(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").show());IsCarfaxVin&&(c=$("#CBRTrim > option").length,l=$("#CBRBodyandStyle > option").length,(c!=null&&c>1||l!=null&&l>1)&&$("#dvshowtextNeedinfo").show());$("#CBREngine > option").each(function(){if($(this).val()!=0){var n=$(this).text();n.length>28&&$(this).val(n).text(n.substr(0,28)+"…")}});var a=0,v=0,y=0,r=[];if(t.vehicleDescription.factoryOptionField!=null&&t.vehicleDescription.factoryOptionField.length>0&&$.each(t.vehicleDescription.factoryOptionField,function(n,t){var i,u;t.headerField!=null&&t.headerField.valueField.toLowerCase()=="transmission"&&(i=t.descriptionField[0].toLowerCase().indexOf("manual"),i>-1&&(v++,r.push(t.descriptionField[0])),u=t.descriptionField[0].toLowerCase().indexOf("automatic"),u>-1&&(y++,r.push(t.descriptionField[0])))}),Issinglelineentry||IsCarfaxVin)if(r!=null&&r.length>1){for(console.log(r.length),$("#CBRTransmission").empty(),$("#CBRTransmission").append($("<option><\/option>").attr("value","0").text(ViewResEnglishtransmission)),$("#CBRTransmission").prop("disabled",!1),f=0;f<r.length;f++)r[f].toLowerCase().indexOf("transmission:")>-1||r[f].toLowerCase().indexOf("transmission,")>-1?(h=r[f],o=h.substring(13),$("#CBRTransmission").append($("<option><\/option>").attr("value",o.trim()).text(o.trim()))):$("#CBRTransmission").append($("<option><\/option>").attr("value",r[f].trim()).text(r[f].trim()));$(".hideddls").show();$("#dvTransmissiondropdown").show();$(".hidesubvehicledetails").show();$(".hidespnvehicledetailsodo").hide()}else r.length==1?($("#CBRTransmission").empty(),$("#CBRTransmission").prop("disabled",!1),r[0].toLowerCase().indexOf("transmission:")>-1||r[0].toLowerCase().indexOf("transmission,")>-1?(h=r[0],o=h.substring(13),$("#CBRTransmission").append($("<option><\/option>").attr("value",o.trim()).text(o.trim()))):$("#CBRTransmission").append($("<option><\/option>").attr("value",r[0].trim()).text(r[0].trim())),$("#dvTransmissiondropdown").hide()):($("#CBRTransmission").empty(),$("#CBRTransmission").append($("<option><\/option>").attr("value","0").text(ViewResEnglishtransmission)),$("#CBRTransmission").append($("<option><\/option>").attr("value","Automatic").text("Automatic")),$("#CBRTransmission").append($("<option><\/option>").attr("value","Manual").text("Manual")),$("#CBRTransmission").prop("disabled",!1),$(".hideddls").show(),$("#dvTransmissiondropdown").show(),$(".hidesubvehicledetails").show(),$(".hidespnvehicledetailsodo").hide());else v>0&&y>0?($("#ChromeTransmissions").val(""),$("#dvTransmissionsVisible").show()):(t.vehicleDescription.standardField!=null&&t.vehicleDescription.standardField.length>0?$.each(t.vehicleDescription.standardField,function(n,t){if(t.descriptionField.toLowerCase().indexOf("transmission:")>-1){a++;var i=t.descriptionField,r=i.substring(13);$("#ChromeTransmissions").val(r.trim());$("#dvTransmissionsVisible").hide()}}):($("#ChromeTransmissions").val(""),$("#dvTransmissionsVisible").show()),a==0&&($("#ChromeTransmissions").val(""),$("#dvTransmissionsVisible").show()))}}function changesinStyleField(n){for(var i=[["Regular",'137"',"8'"],["SuperCab",'142"',"6.75'"],["SuperCab",'158"',"8'"],["Crew Cab",'156"',"6.75'"],["Crew Cab",'172"',"8'"],["Crew Cab",'153"',"6.5'"],["Regular",'119"',"6.5'"],["Regular",'133"',"8'"],["Regular Cab",'119"',"6.5'"],["Regular Cab",'133"',"8'"],["Double Cab",'143.5"',"6.5'"],["Crew Cab",'143.5"',"5'9\""],["Double Cab",'144.2"',"6.5'"],["Regular Cab",'133.6"',"8'"],["Regular",'133.6"',"8'"],["Regular Cab",'133.6"',"8'"],["Double Cab",'158.1"',"8'"],["Crew Cab",'153.7"',"6.5'"],["Crew Cab",'167.7"',"8'"],["SuperCab",'145"',"6.5'"],["SuperCab",'163"',"8'"],["SuperCrew",'145"',"5.5'"],["SuperCrew",'157"',"6.5'"],["Regular",'122.5"',"6.5'"],["Reg Cab",'122.5"',"6.5'"],["Regular",'141"',"8'"],["Reg Cab",'141"',"8'"],["Regular",'119"',"6.5'"],["Reg Cab",'119"',"6.5'"],["Regular",'135"',"8'"],["Reg Cab",'135"',"8'"],["Club",'139"',"6.5'"],["Club",'155"',"8'"],["Quad Cab",'139"',"6.5'"],["Quad Cab",'155"',"8'"],["Regular",'140.5"',"8'"],["Reg Cab",'140.5"',"8'"],["Reg Cab","140.5","8'"],["Crew Cab",'149"',"6'4\""],["Crew Cab",'169"',"8'"],["Mega Cab",'160.5"',"6'4\""],["Mega Cab","160.5","6'4\""],["Mega Cab",'140.5"',"8'"],["Mega Cab","140.5","8'"],["Regular",'120.5"',"6'4\""],["Regular",'140.5"',"8'"],["Reg Cab",'120.5"',"6'4\""],["Reg Cab","120.5","6'4\""],["Reg Cab",'140.5"',"8'"],["Quad Cab",'140.5"',"6'4\""],["Quad Cab","140.5","6'4\""],["Crew Cab",'140.5"',"5'7\""],["Quad Cab",'160.5"',"8'"],["Quad Cab","160.5","8'"],["Club Cab",'133"','6.5"'],["Club Cab",'149"',"8'"],["Sweptline",'115"',"6.5"],["Sweptline",'131"',"8"],["Sweptline",'131" WB',"8'"],["Reg Cab",'140.5"',"8'"],["Supercab",'133"',"5.5'"],["Reg Cab",'137"',"8'"],["Reg Cab",'120"',"6.5'"],["Reg Cab",'139"',"8'"],["Supercab",'139"',"6.5'"],["Supercab",'157"',"8'"],["Reg Cab Flareside",'120"',"6.5'"],["Supercab Flareside",'139"',"6.5'"],["Reg Cab",'133"',"8'"],["Supercab",'155"',"8'"],["Reg Cab",'116.8"',"6.5'"],["Supercab",'138.8"',"6.5'"],["Supercab",'155"',"8'"],["Reg Cab",'119.0"',"6.5'"],["Reg Cab",'133.0"',"8'"],["Reg Cab",'126"',"6.5'"],["Reg Cab",'145"',"8'"],["Double Cab",'143.5"',"6.5'"],["Crew Cab",'143.5"',"5.75'"],["Crew Cab",'153.0"',"6.5'"],["Reg Cab",'133.6"',"8'"],["Double Cab",'144.2"',"6.5'"],["Double Cab",'158.1"',"8'"],["Crew Cab",'153.7"',"6.5'"],["Crew Cab",'167.7"',"8'"],["Ext Cab",'157.5"',"8'"],["Ext Cab",'158.5"',"8'"],["Ext Cab",'134.0"',"5.75'"],["Ext Cab",'141.5"',"6.5'"],["Ext Cab",'155.5"',"8'"],["Ext Cab",'143.5"',"6.5'"],["Reg Cab",'117.5"',"6.5'"],["Reg Cab",'131.5"',"8'"],["Reg Cab",'133.5"',"8'"],["Regular",'137.0"',"8'"],["SuperCab",'142.0"',"6.75'"],["SuperCab",'158.0"',"8'"],["Crew Cab",'156.0"',"6.75'"],["Crew Cab",'172.0"',"8'"],["Crew Cab",'153.0"',"6.5'"],["Regular",'119.0"',"6.5'"],["Regular",'133.0"',"8'"],["Regular Cab",'119.0"',"6.5'"],["Regular Cab",'133.0"',"8'"],["4dr",'154.5"',"6.5'"],["4dr",'168.5"',"8'"],["Crew Cab",'167"',"8'"]],r=0,u,t=0;t<i.length;t++)if(n.indexOf(i[t][1])>-1&&n.toLowerCase().indexOf(i[t][0].toLowerCase())>-1)return r++,u=n.replace(i[t][1],i[t][2]+" Feet Bed"),u.replace(" WB","");if(r==0)return n}function sortSelect(n){for(var i=[],r,t=0;t<n.options.length;t++)i[t]=[],i[t][0]=n.options[t].text,i[t][1]=n.options[t].value;for(i.sort();n.options.length>0;)n.options[0]=null;for(t=0;t<i.length;t++)r=new Option(i[t][0],i[t][1]),n.options[t]=r;return}function allTitleCase(n){return n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}function IsNumberKeywithdotmob(n){var t=n.which?n.which:event.keyCode;return t>31&&(t<48||t>57)?!1:!0}function toTitleCase(n){return n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}function checkVIN(){var f="",l=[],s,e,r,h,t,u,c,i,o,n,a;if(l=["","a","b","c","d","e","f","g","h","j","k","l","m","n","p","r","s","t","u","v","w","x","y","z"],s=[],s=["",1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],e=[],e=["",8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],r=[],h=$("#vin").val().toLowerCase(),alphaNumCheck(h)){for(t=[],n=1;n<=17;n++)t[n]=h.substring(n-1,n);for(u=[],n=1;n<=17;n++)if(isNaN(t[n])){for(c=!1,i=1;i<=23;i++)t[n]==l[i]&&(u[n]=s[i],i=24,c=!0);if(!c)return n=18,!1}else u[n]=t[n];for(o=0,n=1;n<=8;n++)r[n]=u[n]*e[n],r[n+8]=u[n+9]*e[n+9],o=o+r[n]+r[n+8];return f=o%11,f==10&&(f="x"),a="",f==t[9]?!0:!1}return!1}function alphaNumCheck(n){return/^[a-zA-Z0-9]{17}$/.test(n)==!1?!1:!0}function backtonexttab(){}function ModelListIgnore(n){var t=["Silverado 3500HD","Silverado 2500HD","Silverado 1500HD","Silverado 3500HD Built After Aug 14","3500 Gas","3500HD Diesel","4500 Gas","4500HD Diesel","4500XD Diesel","5500HD Diesel","5500XD Diesel","6500XD Diesel","Express Commercial Cutaway","Sierra 3500HD","Savana Commercial Cutaway","ProMaster Chassis Cab","5500 Chassis Cab","3500 Chassis Cab","4500 Chassis Cab","Super Duty F-350 DRW","Super Duty F-450 DRW","Super Duty F-550 DRW","Super Duty F-350 SRW","Super Duty F-450 SRW","Super Duty F-550 SRW","Super Duty F-250 SRW","Super Duty F-650 Pro Loader","Super Duty F-650 Pro Loader Gas","Super Duty F-650 Straight Frame","Super Duty F-650 Straight Frame Gas","Super Duty F-650 Tractor","Super Duty F-750 Straight Frame","Super Duty F-750 Straight Frame Gas","Super Duty F-750 Tractor","E-Series Cutaway","E-Series Stripped Chassis","F-53 Motorhome Stripped Chassis","F-59 Commercial Stripped Chassis","Transit Chassis","Transit Cutaway",].indexOf(n);return t==-1?!0:!1}function OpenEngandDriveline(){$("#hdnEngine").val("");$("#dvEnginedropdown").show();$("#dvEnginetxt").hide();$("#CBREngine").empty();$("#CBREngine").append($("<option><\/option>").attr("value","0").text(ViewResEnglishEngine));$("#CBREngine").prop("disabled",!0);$("#hdnDriveline").val("");$("#dvDrivelinedropdown").show();$("#dvDrivelinetxt").hide();$("#CBRDriveline").empty();$("#CBRDriveline").append($("<option><\/option>").attr("value","0").text(ViewResEnglishDriveline));$("#CBRDriveline").prop("disabled",!0)}function ChangeOptionBasedOnType(n){n!=null&&n!=undefined&&n.toLowerCase()=="sport utility"?($(".section-d-1").css("display","none"),$(".section-d-13").css("display","none"),$(".section-d-17").css("display","none"),$(".section-d-6").css("display","none"),$(".section-d-2").css("display","none"),$(".section-d-14").css("display","none"),$(".section-d-4").css("display","none"),$(".section-d-8").css("display","none"),$(".section-d-16").css("display","none"),$(".section-d-3").show(),$(".section-d-15").show(),$(".section-d-18").show()):n!=null&&n!=undefined&&n.toLowerCase()=="convertible"?($(".section-d-1").css("display","none"),$(".section-d-13").css("display","none"),$(".section-d-17").css("display","none"),$(".section-d-3").css("display","none"),$(".section-d-15").css("display","none"),$(".section-d-18").css("display","none"),$(".section-d-7").css("display","none"),$(".section-d-5").css("display","none"),$(".section-d-2").css("display","none"),$(".section-d-14").css("display","none"),$(".section-d-6").css("display","block"),$(".section-d-4").css("display","block"),$("#hdnWranglerAndCjType").val()==1?($(".section-d-14").css("display","block"),$(".section-d-8").css("display","none")):$(".section-d-8").css("display","block"),$(".section-d-16").css("display","block"),$(".section-d-18").css("display","block")):n!=null&&n!=undefined&&n.toLowerCase()=="trucks"?($(".section-d-1").css("display","none"),$(".section-d-13").css("display","none"),$(".section-d-17").css("display","none"),$(".section-d-3").css("display","none"),$(".section-d-15").css("display","none"),$(".section-d-18").css("display","none"),$(".section-d-7").css("display","block"),$(".section-d-5").css("display","block"),$(".section-d-6").css("display","none"),$(".section-d-4").css("display","none"),$(".section-d-8").css("display","none"),$(".section-d-16").css("display","none"),$(".section-d-2").css("display","block"),$(".section-d-14").css("display","block"),$(".section-d-18").css("display","block")):($(".section-d-1").show(),$(".section-d-13").show(),$(".section-d-17").show(),$(".section-d-5").show(),$(".section-d-7").show(),$(".section-d-2").css("display","none"),$(".section-d-4").css("display","none"),$(".section-d-6").css("display","none"),$(".section-d-3").css("display","none"),$(".section-d-15").css("display","none"),$(".section-d-18").css("display","none"),$(".section-d-8").css("display","none"),$(".section-d-14").css("display","none"),$(".section-d-16").css("display","none"))}function bindfueltype(){}function firstToUpperCase(n){return n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}function Textboxkeypress(n){var t=n,r=$("#odometer").val(),u=$("#Email").val(),i=$("#FullName").val(),e=$("#LastName").val(),o=$("#ZipCode").val(),f=$("#Phone").val();t=="odometer"&&($("#hdnodometerconfirm").val("0"),r==""||r==null||r==undefined?$("#odometer").addClass("errorbox"):$("#odometer").removeClass("errorbox"));t=="Email"&&(u==null||u==""||(validateEmail(u)?$("#Email").removeClass("errorbox"):$("#Email").addClass("errorbox")));t=="FullName"&&(i==null||i==""?$("#FullName").addClass("errorbox"):$("#FullName").removeClass("errorbox"));t=="LastName"&&(i==null||i==""?$("#LastName").addClass("errorbox"):$("#LastName").removeClass("errorbox"));t=="Phone"&&(f==null||f==""?$("#Phone").addClass("errorbox"):$("#Phone").removeClass("errorbox"))}function setGetParameter(n){var t=window.location.href,i=location.hash;t=t.replace(i,"");t+="#"+n;document.location.href=t}function _urlParams(n){var t=window.location.href;for(KeysValues=t.split(/[\?&]+/),i=0;i<KeysValues.length;i++)if(KeyValue=KeysValues[i].split("="),KeyValue[0].toLowerCase()==n.toLowerCase())return decodeURIComponent(KeyValue[1]);return""}function _insertURLParams(n,t){var i,r,u,f;for(n=escape(n),t=escape(t),i=document.location.search.substr(1).split("&"),r=i.length;r--;)if(u=i[r].split("="),u[0]==n){u[1]=t;i[r]=u.join("=");break}r<0&&(i[i.length]=[n,t].join("="));f=i.join("&");f=f+window.location.hash;var e=document.location.href,o=e.split("?"),s=o.shift();e=s+"?"+f;window.history.pushState("",document.title,e)}function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n)}function addCommas(n){n=n.replace(",","");n+="";x=n.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");$("#odometer").val("");$("#odometer").val(x1+x2)}function EmailVerficationCheckService(n){n!=""&&n!=null?($("#resultcode").val(""),$(".loading-email-validation").removeClass("hidden"),loopMixpanel&&loopMixpanel.timeEvent("emailvalidation"),$.ajax({url:CustAppEmailVerficationCheck,type:"POST",data:JSON.stringify({email:n}),success:function(n){if(typeof n.apiResponse.response!="undefined"){var t=n.apiResponse.response;$("#resultcode").val(t);info=typeof n.apiResponse.info!="undefined"?n.apiResponse.info:"";details=typeof n.apiResponse.details!="undefined"?n.apiResponse.details:"";t!="200"&&t!="207"&&t!="215"?($("#emailcorrectimg").hide(),$("#Email").addClass("errorbox"),$("#lblinvalidemail").html(ViewResEnglishemailvalidation),$("#lblinvalidemailimg").show()):($("#emailcorrectimg").show(),$("#lblinvalidemailimg").hide(),$("#lblinvalidemail").html(""),$("#Email").removeClass("errorbox"))}},error:function(){$(".popbg").hide();$(".popinner").hide()},complete:function(){$(".loading-email-validation").addClass("hidden");loopMixpanel&&loopMixpanel.trackEvent("emailvalidation")}})):($("#emailcorrectimg").hide(),$("#Email").addClass("errorbox"),$("#resultcode").val(""),$("#lblinvalidemail").html(ViewResEnglishemailvalidation),$("#lblinvalidemailimg").show())}function transmissionclear(){$("#transmission").prop("disabled",!1);$("#transmission").removeClass("errorbox");$("#transmissionerrormsg").html("")}function fn_checkodometer(){}function cleardropdowns(){$("#CBRYear").val("0");$("#CBRMakes").empty();$("#CBRMakes").append($("<option><\/option>").attr("value","0").text(ViewResEnglishMake));$("#CBRModel").empty();$("#CBRModel").append($("<option><\/option>").attr("value","0").text(ViewResEnglishModel));$("#CBRTrim").empty();$("#CBRTrim").append($("<option><\/option>").attr("value","0").text(ViewResEnglishTrim));$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").text(ViewResEnglishBodyandStyle));OpenEngandDriveline();$("#CBRYear").prop("disabled",!1);$("#CBRMakes").prop("disabled",!1);$("#CBRModel").prop("disabled",!1);$("#CBRTrim").prop("disabled",!1);$("#CBRBodyandStyle").prop("disabled",!1)}function bindEvent(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)}function ValidateVehicleInfo(){var n=!1,t=0,a="",u,f,e,o,s,i,h,r,l,c,w;if(Issinglelineentry||IsCarfaxVin)Issinglelineentry&&!IsCarfaxVin?($("#errloopAutocomp").html(""),$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""?($("#errloopAutocomp").html(ViewResEnglishSingleLineEntryValid),$("#errloopAutocompimg").show(),$("#txtLicencePlate").addClass("errorbox"),$("#loopAutocomp").addClass("errorbox"),n||($("#txtLicencePlate").focus(),n=!0),t++):($("#errloopAutocomp").html(""),$("#errloopAutocompimg").hide(),$("#txtLicencePlate").removeClass("errorbox"),$("#loopAutocomp").removeClass("errorbox"))):!Issinglelineentry&&IsCarfaxVin?($("#errStateCode").html(""),$("#errLicencePlate").html(""),$("#spnErrmsg").html(""),u=$("#StateCode option:selected").val(),f=$("#txtLicencePlate").val().trim(),u==""?($("#errStateCode").html(ViewResEnglishStateValidation),$("#errStateCodeimg").show(),$("#StateCode").addClass("errorbox"),n||($("#StateCode").focus(),n=!0),t++):($("#StateCode").removeClass("errorbox"),$("#errStateCodeimg").hide()),f==""?($("#errLicencePlate").html(ViewResEnglishLicenceValidation),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),n||($("#txtLicencePlate").focus(),n=!0),t++):($("#errLicencePlate").html(""),$("#txtLicencePlate").removeClass("errorbox"),$("#imgErrorExclamatery").hide())):Issinglelineentry&&IsCarfaxVin&&($("#errStateCode").html(""),$("#errLicencePlate").html(""),$("#errloopAutocomp").html(""),$("#spnErrmsg").html(""),u=$("#StateCode option:selected").val(),f=$("#txtLicencePlate").val().trim(),$("#errloopAutocomp").html(""),u==""&&f==""&&$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""?($("#errloopAutocomp").html(ViewResEnglishIscarFxValid),$("#loopAutocomp").addClass("errorbox"),$("#errloopAutocompimg").show(),$("#errStateCodeimg").show(),$("#StateCode").addClass("errorbox"),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),n||($("#loopAutocomp").focus(),n=!0),t++):$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""&&u==""?($("#errStateCode").html(ViewResEnglishStateValidation),$("#errStateCodeimg").show(),$("#StateCode").addClass("errorbox"),n||($("#StateCode").focus(),n=!0),t++):$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""&&f==""?($("#errLicencePlate").html(ViewResEnglishLicenceValidation),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),n||($("#txtLicencePlate").focus(),n=!0),t++):$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""&&(u==""||f=="")&&($("#errloopAutocomp").html(ViewResEnglishSingleLineEntryValid),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),n||($("#txtLicencePlate").focus(),n=!0),t++));else{var b=$("#vin").val(),v=$("#CBRYear").val(),y=$("#CBRMakes").val(),p=$("#CBRModel").val(),k=$("#drpengineType").val(),d=$("#drpFuelType").val(),e=$("#CBRTrim option:selected").val(),o=$("#CBRBodyandStyle option:selected").val(),i=$("#CBREngine option:selected").val(),r=$("#CBRDriveline option:selected").val();$("#vin").val()!=""&&$("#vin").val()!=null?(a=checkVIN(),$("#checkvinbool").val("false")):$("#checkvinbool").val("");$("#checkvinbool").val()=="false"&&a==!1?($("#vin").addClass("errorbox"),n||(n=!0),$("#vinerrormsgimg").show(),$("#vinerrormsg").html(ViewResEnglishVincheckvalidation),t++):($("#vin").removeClass("errorbox"),$("#vinerrormsg").html(""),$("#vinerrormsgimg").hide());v=="0"||v==""?($("#CBRYear").addClass("errorbox"),n||($("#CBRYear").focus(),n=!0),$("#yearerrormsgimg").show(),$("#yearerrormsg").html(ViewResEnglishyearvalidation),t++):($("#CBRYear").removeClass("errorbox"),$("#yearerrormsg").html(""),$("#yearerrormsgimg").hide());y=="0"||y==""?($("#CBRMakes").addClass("errorbox"),n||($("#CBRMakes").focus(),n=!0),$("#makeerrormsgimg").show(),$("#makeerrormsg").html(ViewResEnglishmakevalidation),t++):($("#CBRMakes").removeClass("errorbox"),$("#makeerrormsg").html(""),$("#makeerrormsgimg").hide());p=="0"||p==""?($("#CBRModel").addClass("errorbox"),n||($("#CBRModel").focus(),n=!0),$("#Datamodelerrormsgimg").show(),$("#Datamodelerrormsg").html(ViewResEnglishmodelvalidation),t++):($("#CBRModel").removeClass("errorbox"),$("#Datamodelerrormsg").html(""),$("#Datamodelerrormsgimg").hide());e=="0"||e==""?($("#CBRTrim").addClass("errorbox"),n||($("#CBRTrim").focus(),n=!0),$("#trimerrormsg").html(ViewResEnglishtrimvalidation),$("#trimerrormsgimg").show(),t++):($("#CBRTrim").removeClass("errorbox"),$("#trimerrormsg").html(""),$("#trimerrormsgimg").hide());o=="0"||o==""?($("#CBRBodyandStyle").addClass("errorbox"),n||($("#CBRBodyandStyle").focus(),n=!0),$("#BodyandStyleerrormsg").html(ViewResEnglishbodystylevalidation),$("#BodyandStyleerrormsgimg").show(),t++):($("#CBRBodyandStyle").removeClass("errorbox"),$("#BodyandStyleerrormsg").html(""),$("#BodyandStyleerrormsgimg").hide());addtxt="";s=$("#CBREngine > option").length;s<=1&&($("#CBREngine").val()=="0"||$("#CBREngine").val()=="")&&(addtxt="txt");i=$("#CBREngine"+addtxt).val().trim();i=="0"||i==""||i==null?($("#CBREngine").addClass("errorbox"),n||($("#CBREngine").focus(),n=!0),$("#Engineerrormsg").show(),$("#Engineerrormsg").html(ViewResEnglishEnginevalidation),$("#Engineerrormsgimg").show(),t++):($("#CBREngine").removeClass("errorbox"),$("#Engineerrormsg").html(""),$("#Engineerrormsg").hide());addtxt="";h=$("#CBRDriveline > option").length;h<=1&&($("#CBRDriveline").val()=="0"||$("#CBRDriveline").val()=="")&&(addtxt="txt");r=$("#CBRDriveline"+addtxt).val().trim();r=="0"||r==""||r==null?($("#CBRDriveline").addClass("errorbox"),n||($("#CBRDriveline").focus(),n=!0),$("#Drivelineerrormsg").show(),$("#Drivelineerrormsg").html(ViewResEnglishDrivelinevalidation),$("#Drivelineerrormsgimg").show(),t++):($("#CBRDriveline").removeClass("errorbox"),$("#Drivelineerrormsg").hide())}return $("#tabs1").is(":visible")&&(IsCarfaxVin&&$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""&&(e=$("#CBRTrim option:selected").val(),o=$("#CBRBodyandStyle option:selected").val(),e=="0"||e==""?($("#CBRTrim").addClass("errorbox"),n||($("#CBRTrim").focus(),n=!0),$("#trimerrormsg").html(ViewResEnglishtrimvalidation),$("#trimerrormsgimg").show(),t++):($("#CBRTrim").removeClass("errorbox"),$("#trimerrormsg").html(""),$("#trimerrormsgimg").hide()),o=="0"||o==""?($("#CBRBodyandStyle").addClass("errorbox"),n||($("#CBRBodyandStyle").focus(),n=!0),$("#BodyandStyleerrormsg").html(ViewResEnglishbodystylevalidation),$("#BodyandStyleerrormsgimg").show(),t++):($("#CBRBodyandStyle").removeClass("errorbox"),$("#BodyandStyleerrormsg").html(""),$("#BodyandStyleerrormsgimg").hide())),addtxt="",s=$("#CBREngine > option").length,s<=1&&($("#CBREngine").val()=="0"||$("#CBREngine").val()=="")&&(addtxt="txt"),i=$("#CBREngine"+addtxt).val().trim(),i=="0"||i==""?($("#CBREngine"+addtxt).addClass("errorbox"),n||($("#CBREngine"+addtxt).focus(),n=!0),$("#Engineerrormsg"+addtxt).html(ViewResEnglishEnginevalidation),$("#Engineerrormsg"+addtxt+"img").show(),t++):($("#CBREngine"+addtxt).removeClass("errorbox"),$("#Engineerrormsg"+addtxt).html(""),$("#Engineerrormsg"+addtxt+"img").hide()),addtxt="",h=$("#CBRDriveline > option").length,h<=1&&($("#CBRDriveline").val()=="0"||$("#CBRDriveline").val()=="")&&(addtxt="txt"),r=$("#CBRDriveline"+addtxt).val().trim(),$("#dvDrivelinetxt").is(":visible")&&(r=="0"||r==""?($("#CBRDrivelinetxt").addClass("errorbox"),n||($("#CBRDrivelinetxt").focus(),n=!0),$("#Drivelineerrormsgtxt").html(ViewResEnglishDrivelinevalidation),$("#Drivelineerrormsgtxtimg").show(),t++):($("#CBRDrivelinetxt").removeClass("errorbox"),$("#Drivelineerrormsgtxt").html(""),$("#Drivelineerrormsgtxtimg").hide())),l=$("#CBRTransmission option:selected").val(),l=="0"||l==""?($("#CBRTransmission").addClass("errorbox"),n||($("#CBRTransmission").focus(),n=!0),$("#Transmissionerrormsg").html(ViewResEnglishtransmissionvalidation),$("#Transmissionerrormsgimg").show(),t++):($("#CBRTransmission").removeClass("errorbox"),$("#Transmissionerrormsg").html(""),$("#Transmissionerrormsgimg").hide()),c=$("#odometer").val().replace(",",""),w=/^[0-9,]+$/,c==null||c==""?($("#odometer").addClass("errorbox"),n||($("#odometer").focus(),n=!0),$("#dvOdometerConfirm").hide(),$("#odometererrormsg").html(ViewResEnglishodometervalidation),$("#odometererrormsgimg").show(),t++):w.test(c)==!1&&($("#odometer").addClass("errorbox"),n||($("#odometer").focus(),n=!0),$("#dvOdometerConfirm").hide(),$("#odometererrormsg").html(ViewResEnglishodometervalidation),$("#odometererrormsgimg").show(),t++)),t}function ChecktabsVehiclevaidation(){var t=!1,i=0,r,n,s,u,h,f,e,o;return(Issinglelineentry||IsCarfaxVin)&&(r=$("#odometer").val(),($("#tabs1").is(":visible")||$("#tabs0").is(":visible"))&&(n="",s=$("#CBREngine > option").length,s<=1&&($("#CBREngine").val()=="0"||$("#CBREngine").val()=="")&&(n="txt"),u=$("#CBREngine"+n).val().trim(),u=="0"||u==""?($("#CBREngine"+n).addClass("errorbox"),t||($("#CBREngine"+n).focus(),t=!0),$("#Engineerrormsg"+n).html(ViewResEnglishEnginevalidation),$("#Engineerrormsg"+n+"img").show(),i++):($("#CBREngine"+n).removeClass("errorbox"),$("#Engineerrormsg"+n).html(""),$("#Engineerrormsg"+n+"img").hide()),n="",h=$("#CBRDriveline > option").length,h<=1&&($("#CBRDriveline").val()=="0"||$("#CBRDriveline").val()=="")&&(n="txt"),f=$("#CBRDriveline"+n).val().trim(),f=="0"||f==""?($("#CBRDriveline"+n).addClass("errorbox"),t||($("#CBRDriveline"+n).focus(),t=!0),$("#Drivelineerrormsg"+n).html(ViewResEnglishDrivelinevalidation),$("#Drivelineerrormsg"+n+"img").show(),i++):($("#CBRDriveline"+n).removeClass("errorbox"),$("#Drivelineerrormsg"+n).html(""),$("#Drivelineerrormsg"+n+"img").hide())),r==""||r==null?($("#odometer").addClass("errorbox"),$("#odometererrormsg").html(ViewResEnglishodometervalidation),$("#odometererrormsgimg").show(),i++):($("#odometererrormsgimg").hide(),$("#odometererrormsg").html(""),$("#odometer").removeClass("errorbox")),IsCarfaxVin&&$("#hdnYMMDetials").val()==""&&$("#hdnYMMDetials_autofill").val()==""&&(e=$("#CBRTrim option:selected").val(),o=$("#CBRBodyandStyle option:selected").val(),e=="0"||e==""?($("#CBRTrim").addClass("errorbox"),t||($("#CBRTrim").focus(),t=!0),$("#trimerrormsgimg").show(),$("#trimerrormsg").html(ViewResEnglishtrimvalidation),i++):($("#CBRTrim").removeClass("errorbox"),$("#trimerrormsg").html(""),$("#trimerrormsgimg").hide()),o=="0"||o==""?($("#CBRBodyandStyle").addClass("errorbox"),t||($("#CBRBodyandStyle").focus(),t=!0),$("#BodyandStyleerrormsgimg").show(),$("#BodyandStyleerrormsg").html(ViewResEnglishbodystylevalidation),i++):($("#CBRBodyandStyle").removeClass("errorbox"),$("#BodyandStyleerrormsg").html(""),$("#BodyandStyleerrormsgimg").hide()))),i}function IsNumberKeywithdot(n){var i=$("#ZipCode").val(),t;return(i==null||i==""?$("#ZipCode").addClass("errorbox"):i.length>=4?$("#ZipCode").removeClass("errorbox"):$("#ZipCode").addClass("errorbox"),t=n.which?n.which:event.keyCode,t>31&&(t<48||t>57))?!1:!0}function FindModelCode(n){var t;try{if(TrimData!=null&&TrimData.vehicleDescription!=null&&TrimData.vehicleDescription.styleField!=null)for(t=0;t<TrimData.vehicleDescription.styleField.length;t++)if(TrimData.vehicleDescription.styleField[t].idField==n)return TrimData.vehicleDescription.styleField[t].mfrModelCodeField}catch(i){}return""}function autocompStripTags(n){return n.replace(/<\/?[^>]+(>|$)/g,"")}function autocompSetDealerId(n){dealerId=n}function autocompFormatResult(n){return n.hasOwnProperty("PrettyText")?n.PrettyText:JSON.stringify(n)}function autocompMakeMenuEntries(n,t,i){var r,u;if($("#hdnYMMDetials").val(""),$("#hdnYMMDetials_autofill").val(""),r=dealerId,r==0)try{r=$("#DealerId").val()}catch(f){r=0}u={ResultCount:Number(ResultCount),DealerId:r};u.SearchText=n.split(" ");$.ajax({url:"/Autocomp/Match",type:"POST",dataType:"JSON",data:JSON.stringify(u),contentType:"application/json; charset=utf-8",async:!0,success:i})}function autocompResetText(n){if($("#"+n).prop("disabled")==!0)return"";var t=document.getElementById(n),i=t.selectedIndex;return i==0?"":t.options[i].text+" "}function autocompReset(n){$("#loopAutocomp").typeahead("val","");acbox=document.getElementById("loopAutocomp");acbox.placeholder="Type your vehicle's year, make, and model here";var t=autocompResetText("CBRYear");n!="CBRYear"&&(t+=autocompResetText("CBRMakes"),n!="CBRMakes"&&(t+=autocompResetText("CBRModel"),n!="CBRModel"&&(t+=autocompResetText("CBRTrim"))));acbox.value=t}function autocompItemSelected(n,t){autocompSelection=t;$("#btnStartdetails").show();$("#btnbackcarfax").show();$("#StateCode").val("");$("#txtLicencePlate").val("");$("#loopAutocomp").typeahead("val","");$("#StateCode").removeClass("errorbox");document.getElementById("loopAutocomp").placeholder=t.Text;var i="",r="";$("#txtLicencePlate").removeClass("errorbox");$("#imgErrorExclamatery").hide();$("#errStateCodeimg").hide();$("#errLicencePlate").html("");$("#errStateCode").html("");$("#spnErrmsg").html("");$("#errloopAutocompimg").hide();$("#loopAutocomp").removeClass("errorbox");IsCarfaxVin&&(i=$("#StateCode option:selected").val(),r=$("#txtLicencePlate").val().trim());$("#vin").val("");IsCarfaxVin&&(OldStateCode="",OldLicenseCode="",$("#dvTrimWhenIsCarfaxVin").hide(),$("#dvBSWhenIsCarfaxVin").hide(),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").text(ViewResEnglishBodyandStyle)),$("#CBRTrim").empty(),$("#CBRTrim").append($("<option><\/option>").attr("value","0").text(ViewResEnglishTrim)));$("#loopAutocomp").blur();$("#hdnYMMDetials").val(t.Year+" "+t.MakeName+" "+t.ModelName);$("#hdnYMMDetials_autofill").val(t.Year+" "+t.MakeName+" "+t.ModelName);$("#spnvehicledetails").html(t.Year+" "+t.MakeName+" "+t.ModelName);$("#errloopAutocomp").html("");OpenEngandDriveline();getEngineAndDriveline([],t.StyleCode)}function autocompSetSelectedValue(n,t){for(var i=0;i<n.options.length;i++)if(n.options[i].value==t){n.options[i].selected=!0;return}}function autocompInsertOption(n,t,i){var r=document.createElement("option");r.text=i;r.value=t;n.add(r,0)}function autocompItemSelected2(n){var i,t;if(n.Makes.length!=0&&n.Models.length!=0){for(i=document.getElementById("CBRYear"),autocompSetSelectedValue(i,autocompSelection.Year),$("#CBRYear").prop("disabled",!1),$("#CBRMakes").empty(),i=document.getElementById("CBRMakes"),t=n.Makes.length-1;t>=0;t--)autocompInsertOption(i,n.Makes[t].Code,n.Makes[t].Name);for(autocompInsertOption(i,0,ViewResEnglishMake),autocompSetSelectedValue(i,autocompSelection.MakeCode),$("#CBRMakes").prop("disabled",!1),$("#CBRModel").empty(),i=document.getElementById("CBRModel"),t=n.Models.length-1;t>=0;t--)autocompInsertOption(i,n.Models[t].Code,n.Models[t].Name);autocompInsertOption(i,0,ViewResEnglishModel);autocompSetSelectedValue(i,autocompSelection.ModelCode);$("#CBRModel").prop("disabled",!1);$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"trim",dealerId:_currentDealerId,make:autocompSelection.MakeName,model:autocompSelection.ModelName,year:autocompSelection.Year}),success:autocompItemSelected3,error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})}}function autocompTermMatchCount(n,t){for(var u=0,r,i=0;i<t.length;i++)for(r=0;r<n.length;r++)if(t[i].toLowerCase()==n[r].toLowerCase()){u++;break}return u}function autocompMatchItems(n,t){for(var f=0,e=0,o=1e3,u,r,i=1;i<n.options.length;i++)u=n.options[i].text.split(" "),r=autocompTermMatchCount(t,u),r==0&&n.options[i].text.toLowerCase()=="base"&&(r=1),r>e?(f=i,e=r,o=u.length):r==e&&u.length<o&&(f=i,o=u.length);return f==0?!1:(n.selectedIndex=f,!0)}function autocompItemSelected3(n){$("#CBRModel").removeClass("errorbox");$("#CBRTrim").prop("disabled",!1);$("#CBRBodyandStyle").prop("disabled",!0);$("#CBRTrim").empty();$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim));$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle));FillTrimFieldData(n);$("#loader-bg").hide();$("#loader-content").hide();var t=!1,i=autocompSelection.StyleName.split(" ");$("#CBRTrim").prop("disabled")==!1&&(obj=document.getElementById("CBRTrim"),autocompMatchItems(obj,i)==!0&&(t=CBRTrimChange()));$("#CBRBodyandStyle").prop("disabled")==!1&&(obj=document.getElementById("CBRBodyandStyle"),autocompMatchItems(obj,i)==!0&&CBRBodyandStyleChange(t))}function CBRTrimChange(){var n=$("#CBRTrim").val(),i,f,t,r,u;return($("#hdntrim").val(""),setmultilangugae(),i=$("#CBRTrim option:selected").text(),$("#hdntrim").val(i),f=i,$("#CBRTrim").removeClass("errorbox"),$("#trimerrormsg").html(""),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBRBodyandStyle").prop("disabled",!1),OpenEngandDriveline(),n!=null&&n!=""&&n!="0"&&vehidescFillStylesafterTrims!=null&&(t=vehidescFillStylesafterTrims,t.VehicleDescription.styleField!=null&&($.each(t.VehicleDescription.styleField,function(t,i){if(i.subdivisionField.valueField.indexOf("Chassis-Cabs")==-1){var r=changesinStyleField(i.nameWoTrimField);$("#CBRBodyandStyle option").filter(function(){return $("#CBRTrim").html()==r}).val()==undefined&&(n==i.trimField?$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",i.idField).text(r)):i.trimField==null&&n=="Base"&&$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",i.idField).text(r)))}}),r=$("#CBRBodyandStyle > option").length,r==2)))?($("#CBRBodyandStyle option[value='0']").remove(),$("#CBRBodyandStyle").prop("disabled",!0),u=$("#CBRBodyandStyle").val(),getEngineAndDriveline(t,u),!0):!1}function CBRBodyandStyleChange(n){$("#CBRBodyandStyle").removeClass("errorbox");$("#BodyandStyleerrormsg").html("");OpenEngandDriveline();var t=$("#CBRBodyandStyle").val();n==!1&&getEngineAndDriveline(vehidescFillStylesafterTrims,t)}var ChromeDataService=[],OldStateCode="",OldLicenseCode="",TrimData=null,vehidescFillStylesafterTrims,YearList,sendMessage,autocompSelection,dealerId;navigator.Browser=function(){var r=navigator.appName,i=navigator.userAgent,n,t=i.match(/(opera|chrome|crios|fxios|safari|firefox|msie|IE Edge|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(n=/\brv[ :]+(\d+)/g.exec(i)||[],["IE",n[1]||""]):/Edge\/\d./i.test(navigator.userAgent)?(n=/\brv[ :]+(\d+)/g.exec(i)||[],["IE Edge",n[1]||""]):(t[1]==="Chrome"||typeof t[1]=="undefined")&&(n=i.match(/\bOPR\/(\d+)/),n!=null)?["Opera",n[1]]:(t&&(n=i.match(/version\/([\.\d]+)/i))!=null&&(t[2]=n[1]),t?[t[1],t[2]]:[r,navigator.appVersion,"-?"])}();var Browser=navigator.Browser[0],Version=navigator.Browser[1],appVersion="";appVersion=Browser=="Firefox"?navigator.userAgent:navigator.appVersion;vehidescFillStylesafterTrims="";YearList=[];$(document).ready(function(){var n,r,t;$("#OSInfo").val(appVersion);$("#BrowserInfo").val(Browser+" "+Version);Iskalcars=="True"&&($("#kslnew").multiselect({nonSelectedText:"None",includeSelectAllOption:!0}),$("#kslused").multiselect({nonSelectedText:"None",includeSelectAllOption:!0}),n="TIV Loaded",sendMessage(""+n));$("#loopAutocomp").on("change",function(){$("#btnStartdetails").show();$("#btnbackcarfax").show()});$("#loopAutocomp").keydown(function(){$("#hdnYMMDetials").val()==""&&($("#btnStartdetails").hide(),$("#btnbackcarfax").hide())});$("#loopAutocomp").keyup(function(){$("#hdnYMMDetials").val()==""&&($("#btnStartdetails").hide(),$("#btnbackcarfax").hide())});$("#StateCode").on("change",function(){var t="Type your vehicle's year, make, and model here",n;$("#multilangugae").val()=="es"&&(t="ESCRIBA SU VEHICULO - Año / Marca / Model");$("#hdnYMMDetials").val()==""&&(n=document.getElementById("loopAutocomp"));$("#hdnYMMDetials").val()!=""&&$("#hdnYMMDetials_autofill").val()!=""?($("#StateCode").val(""),$("#loopAutocomp").focus()):($("#loopAutocomp").val(""),n=document.getElementById("loopAutocomp"));$("#hdnYMMDetials").val("");$("#loopAutocomp").removeClass("errorbox");$("#errloopAutocompimg").hide();$("#errStateCodeimg").hide();$("#StateCode").removeClass("errorbox");OldStateCode="";OldLicenseCode="";$(this).val()!=""&&$("#txtLicencePlate").val()!=""?($(".btnhideautocomp").show(),$(".btnhideautocomp2").show(),$("#errStateCode").html(""),$("#spnErrmsg").html(""),$("#txtLicencePlate").removeClass("errorbox"),$("#imgErrorExclamatery").hide(),$("#btnbackcarfax").hide()):($(".btnhidecarafax").hide(),$(".btnhideautocomp").show(),$(".btnhideautocomp2").show())});$("#StateCode").keydown(function(n){if($(this).val()!=""&&($("#errStateCode").html(""),$("#spnErrmsg").html("")),$("#StateCode").removeClass("errorbox"),$("#errStateCodeimg").hide(),$("#loopAutocomp").removeClass("errorbox"),$("#errloopAutocompimg").hide(),n.ctrlKey||n.altKey)n.preventDefault();else{var t=n.keyCode;t==8||t==32||t==46||t>=35&&t<=40||t>=65&&t<=90||n.preventDefault()}});$("#txtLicencePlate").keydown(function(n){var r="Type your vehicle's year, make, and model here",i,t;$("#multilangugae").val()=="es"&&(r="ESCRIBA SU VEHICULO - Año / Marca / Model");$("#hdnYMMDetials").val()==""&&(i=document.getElementById("loopAutocomp"));$("#hdnYMMDetials").val("");$("#hdnYMMDetials_autofill").val("");$("#loopAutocomp").val("");$("#loopAutocomp").removeClass("errorbox");$("#errloopAutocompimg").hide();i=document.getElementById("loopAutocomp");OldStateCode="";OldLicenseCode="";$("#txtLicencePlate").removeClass("errorbox");$("#imgErrorExclamatery").hide();$("#errStateCodeimg").hide();$("#errLicencePlate").html("");$("#errStateCode").html("");$("#spnErrmsg").html("");n.ctrlKey||n.altKey?n.preventDefault():(t=n.keyCode,t==8||t==32||t==46||t>=35&&t<=40||t>=65&&t<=90||t>=48&&t<=57||t>=96&&t<=105||n.preventDefault())});$("#txtLicencePlate").keyup(function(){var u="Type your vehicle's year, make, and model here",t,n,i,r;$("#multilangugae").val()=="es"&&(u="ESCRIBA SU VEHICULO - Año / Marca / Model");$("#hdnYMMDetials").val()==""&&(t=document.getElementById("loopAutocomp"));$("#txtLicencePlate").removeClass("errorbox");$("#imgErrorExclamatery").hide();$("#errStateCodeimg").hide();$("#errLicencePlate").html("");$("#errStateCode").html("");$("#hdnYMMDetials").val("");$("#hdnYMMDetials_autofill").val("");$("#loopAutocomp").val("");$("#loopAutocomp").removeClass("errorbox");$("#errloopAutocompimg").hide();t=document.getElementById("loopAutocomp");OldStateCode="";OldLicenseCode="";$("#errLicencePlate").html("");$("#spnErrmsg").html("");n=$(this).val();re=/[`~!@@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi;i=re.test(n);i&&(r=n.replace(/[`~!@@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),$(this).val(r))});$("#odometer").on("keyup",function(){var t="",i=$(this).val().replace(",",""),n;$("#odometer").attr("maxlength","6");n=$(this).attr("maxlength");n&&i&&(t=i.substr(0,n),$(this).val(t))});$("#ZipCode").keyup(function(){var n=5;$("#ZipCode").val().length>n&&$("#ZipCode").val($("#ZipCode").val().substr(0,n))});$("#Phone").keyup(function(){var n=10;$("#Phone").val().length>n&&$("#Phone").val($("#Phone").val().substr(0,n))});$("#odometer").on("change",function(){$(this).attr("maxlength","7");$("#odometererrormsg").html("");$("#odometererrormsgimg").hide()});r=navigator.language||navigator.userLanguage;$("#ZipCode").bind("cut copy paste",function(n){n.preventDefault()});$("#checkbox-TradeIn").change(function(){$("#neworusedimg").hide();$("#tradetypemakererrmessage").html("");$(this).is(":checked")?(toyotacheck=="True"?($("#lblTradeIn").addClass("toyota_labelinactvie"),$("#lblSell").removeClass("toyota_labelactvie"),$("#lblSell").addClass("toyota_labelinactvie"),$("#lblTradeIn").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblTradeIn").addClass("trademaker_labelactvie"),$("#lblSell").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblTradeIn").addClass("audi_labelactvie"),$("#lblSell").removeClass("audi_labelactvie")):($("#lblTradeIn").addClass("sterling_labelactvie"),$("#lblSell").removeClass("sterling_labelactvie"),$("#lblsterlingcpo").removeClass("sterling_labelactvie")),$("#hdntradein").val($(this).is(":checked")),$("#hdnsell").val("false"),$("#checkbox-Sell").removeAttr("checked"),$("#checkbox-Sterlingnew").removeAttr("checked"),$("#checkbox-Sterlingused").removeAttr("checked"),$("#hdnsterlingnew").val("false"),$("#checkbox-Sterlingcpo").val("false"),$("#hdnsterlingused").val("false"),$("#hdnGmDealerCPO").val("false")):(toyotacheck=="True"?($("#lblTradeIn").removeClass("toyota_labelactvie"),$("#lblSell").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblTradeIn").removeClass("trademaker_labelactvie"),$("#lblSell").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblTradeIn").removeClass("audi_labelactvie"),$("#lblSell").removeClass("audi_labelactvie")):$("#lblTradeIn").removeClass("sterling_labelactvie"),$("#checkbox-TradeIn").removeAttr("checked"),$("#hdntradein").val($(this).is(":checked")))});$("#checkbox-Sell").change(function(){$("#neworusedimg").hide();$("#tradetypemakererrmessage").html("");$(this).is(":checked")?(toyotacheck=="True"?($("#lblTradeIn").addClass("toyota_labelinactvie"),$("#lblSell").removeClass("toyota_labelactvie"),$("#lblSell").addClass("toyota_labelinactvie"),$("#lblTradeIn").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblSell").addClass("trademaker_labelactvie"),$("#lblTradeIn").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblTradeIn").removeClass("audi_labelactvie"),$("#lblSell").addClass("audi_labelactvie")):($("#lblSell").addClass("sterling_labelactvie"),$("#lblTradeIn").removeClass("sterling_labelactvie")),$("#hdnsell").val($(this).is(":checked")),$("#hdntradein").val("false"),$("#checkbox-TradeIn").removeAttr("checked"),$("#checkbox-Sterlingnew").removeAttr("checked"),$("#checkbox-Sterlingused").removeAttr("checked"),$("#hdnsterlingnew").val("false"),$("#checkbox-Sterlingcpo").val("false"),$("#hdnsterlingused").val("false"),$("#hdnGmDealerCPO").val("false")):(toyotacheck=="True"?$("#lblSell").removeClass("toyota_labelactvie"):CheckDealertype=="Trademaker"?$("#lblSell").removeClass("trademaker_labelactvie"):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblTradeIn").removeClass("audi_labelactvie"),$("#lblSell").removeClass("audi_labelactvie")):$("#lblSell").removeClass("sterling_labelactvie"),$("#checkbox-Sell").removeAttr("checked"),$("#hdnsell").val($(this).is(":checked")))});$("#checkbox-Sterlingnew").change(function(){$("#neworusedimg").hide();$("#tradetypemakererrmessage").html("");$("#hdnsell").val("false");$("#hdntradein").val("false");$("#checkbox-TradeIn").removeAttr("checked");$("#checkbox-Sell").removeAttr("checked");$(this).is(":checked")?((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&(IsSubbaru=="True"?FCAModelyearbinding(IsSubbaru):IsLexus=="True"?FCAModelyearbinding(IsSubbaru,IsLexus):IsToyota=="True"?FCAModelyearbinding(IsSubbaru,IsLexus,IsToyota):Isfcalead=="True"&&FCAModelyearbinding(),$("#hidefcalead").show(),$("#neworusedimg").hide(),$("#tradetypemakererrmessage").html(""),IsSubbaru=="True"?($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","37").text("Subaru"))):IsLexus=="True"?($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","24").text("Lexus"))):IsToyota=="True"&&($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","39").text("Toyota")))),Kslcars=="True"||kslcarsdealers=="True"&&Typeofdealer=="KSL"?($("select#kslnew").multiselect("clearSelection"),$("#neworusedimg").hide(),$("#tradetypemakererrmessage").html(""),$("select#kslnew").multiselect("refresh"),$("#kslnewmakeslist").show(),$("#kslusedmakeslist").hide(),$("#lblsterling").addClass("kslcars_labelactvie"),$("#lblsterlingused").removeClass("kslcars_labelactvie"),$("#lblsterlingused").addClass("kslcars_labelinactvie"),$("#lblsterling").removeClass("kslcars_labelinactvie")):toyotacheck=="True"?($("#lblsterling").addClass("toyota_labelactvie"),$("#lblsterlingused").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblsterling").addClass("trademaker_labelactvie"),$("#lblsterlingused").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblaudi").addClass("audi_labelactvie"),$("#lblaudiused").removeClass("audi_labelactvie")):($("#lblsterling").addClass("sterling_labelactvie"),$("#lblsterlingused").removeClass("sterling_labelactvie"),$("#lblsterlingcpo").removeClass("sterling_labelactvie")),$("#checkbox-Sterlingused").removeAttr("checked"),CheckDealertype=="Sterling"&&$(".divshowsteerling").show(),$("#hdnsterlingnew").val($(this).is(":checked")),$("#checkbox-Sterlingcpo").removeAttr("checked"),$("#hdnsterlingused").val("false"),$("#hdnGmDealerCPO").val("false")):((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&($("#neworusedimg").hide(),$("#tradetypemakererrmessage").html(""),$("#hidefcalead").hide(),$("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake))),Kslcars=="True"||kslcarsdealers=="True"&&Typeofdealer=="KSL"?($("select#kslnew").multiselect("clearSelection"),$("#neworusedimg").hide(),$("#tradetypemakererrmessage").html(""),$("select#kslnew").multiselect("refresh"),$("#kslnewmakeslist").show(),$("#kslusedmakeslist").hide(),$("#lblsterling").addClass("kslcars_labelinactvie"),$("#lblsterling").removeClass("kslcars_labelactvie"),$("#lblsterlingused").removeClass("kslcars_labelactvie"),$("#lblsterlingused").addClass("kslcars_labelinactvie")):toyotacheck=="True"?($("#lblsterling").removeClass("toyota_labelactvie"),$("#lblsterlingused").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblsterling").removeClass("trademaker_labelactvie"),$("#lblsterlingused").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblaudi").removeClass("audi_labelactvie"),$("#lblaudiused").removeClass("audi_labelactvie")):$("#lblsterling").removeClass("sterling_labelactvie"),$("#checkbox-Sterlingused").removeAttr("checked"),$("#checkbox-Sterlingcpo").removeAttr("checked"),$(".divshowsteerling").hide(),$("#hdnsterlingnew").val($(this).is(":checked")))});$("#checkbox-Sterlingused").change(function(){$("#neworusedimg").hide();$("#tradetypemakererrmessage").html("");$("#trademakererrmessage").text("");CheckDealertype=="Sterling"&&$(".divshowsteerling").hide();$("#lblTradeIn").addClass("TradeInSell_labelinactvie");$("#lblSell").addClass("TradeInSell_labelinactvie");$("#lblSell").removeClass("TradeInSell_labelactvie");$("#lblTradeIn").removeClass("TradeInSell_labelactvie");$("#hdnsell").val("false");$("#hdntradein").val("false");$("#checkbox-TradeIn").removeAttr("checked");$("#checkbox-Sell").removeAttr("checked");$(this).is(":checked")?((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&(FCAModelyearbinding(),$("#hidefcalead").show()),$("#hdnsterlingnew").val("false"),$("#hdnGmDealerCPO").val("false"),Kslcars=="True"||kslcarsdealers=="True"&&Typeofdealer=="KSL"?($("select#kslused").multiselect("clearSelection"),$("select#kslused").multiselect("refresh"),$("#kslnewmakeslist").hide(),$("#kslusedmakeslist").show(),$("#lblsterling").removeClass("kslcars_labelactvie"),$("#lblsterling").addClass("kslcars_labelinactvie"),$("#lblsterlingused").addClass("kslcars_labelactvie"),$("#lblsterlingused").removeClass("kslcars_labelinactvie")):toyotacheck=="True"?($("#lblsterlingused").addClass("toyota_labelactvie"),$("#lblsterling").removeClass("toyota_labelactvie")):CheckDealertype=="Trademaker"?($("#lblsterlingused").addClass("trademaker_labelactvie"),$("#lblsterling").removeClass("trademaker_labelactvie")):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblaudi").removeClass("audi_labelactvie"),$("#lblaudiused").addClass("audi_labelactvie")):($("#lblsterlingused").addClass("sterling_labelactvie"),$("#lblsterling").removeClass("sterling_labelactvie"),$("#lblsterlingcpo").removeClass("sterling_labelactvie")),$("#checkbox-Sterlingnew").removeAttr("checked"),$("#checkbox-Sterlingcpo").removeAttr("checked"),$("#hdnsterlingused").val($(this).is(":checked"))):((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&$("#hidefcalead").hide(),Kslcars=="True"||kslcarsdealers=="True"&&Typeofdealer=="KSL"?($("select#kslused").multiselect("clearSelection"),$("select#kslused").multiselect("refresh"),$("#kslnewmakeslist").hide(),$("#kslusedmakeslist").show(),$("#lblsterlingused").addClass("kslcars_labelinactvie"),$("#lblsterlingused").removeClass("kslcars_labelactvie"),$("#lblsterling").remove("kslcars_labelactvie"),$("#lblsterling").addClass("kslcars_labelinactvie")):toyotacheck=="True"?$("#lblsterlingused").removeClass("toyota_labelactvie"):CheckDealertype=="Trademaker"?$("#lblsterlingused").removeClass("trademaker_labelactvie"):CheckDealertype=="AUDI"&&Smarttrade!="True"?($("#lblaudi").removeClass("audi_labelactvie"),$("#lblaudiused").addClass("audi_labelactvie")):$("#lblsterlingused").removeClass("sterling_labelactvie"),$("#checkbox-Sterlingnew").removeAttr("checked"),$("#checkbox-Sterlingcpo").removeAttr("checked"),$("#hdnsterlingused").val($(this).is(":checked")))});$("#checkbox-Sterlingcpo").change(function(){$("#trademakererrmessage").text("");$("#neworusedimg").hide();$("#tradetypemakererrmessage").html("");$(this).is(":checked")?((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&(IsSubbaru=="True"?FCAModelyearbinding(IsSubbaru):IsLexus=="True"?FCAModelyearbinding(IsSubbaru,IsLexus):IsToyota=="True"&&FCAModelyearbinding(IsSubbaru,IsLexus,IsToyota),$("#hidefcalead").show(),IsSubbaru=="True"?($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","37").text("Subaru"))):IsLexus=="True"&&($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","24").text("Lexus")))),$("#hdnsterlingnew").val("false"),$("#hdnsterlingused").val("false"),$("#lblsterling").removeClass("sterling_labelactvie"),$("#lblsterlingcpo").addClass("sterling_labelactvie"),$("#lblsterlingused").removeClass("sterling_labelactvie"),$("#checkbox-Sterlingnew").removeAttr("checked"),$("#checkbox-Sterlingused").removeAttr("checked"),$("#hdnGmDealerCPO").val($(this).is(":checked"))):((Isfcalead=="True"||IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True")&&($("#hidefcalead").hide(),$("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake))),$("#lblsterlingcpo").removeClass("sterling_labelactvie"),$("#checkbox-Sterlingcpo").removeAttr("checked"),$("#hdnGmDealerCPO").val($(this).is(":checked")))});$("input[type=text]").change(function(){var n=$(this).attr("id");n!=""&&n!=null&&n!="vin"&&($(this).next().html(""),$(this).removeClass("errorbox"),$("#"+n+"errormsgimg").hide())});$("#CBRYear").change(function(){$("#hdnodometerconfirm").val("0");$("#yearerrormsgimg").hide();var n=$(this).val();n==0&&($("#CBRMakes").prop("disabled",!0),$("#CBRModel").prop("disabled",!0),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),OpenEngandDriveline());$("#yearerrormsg").html("");n!=""&&n!="0"&&n!=null?($("#loader-bg").show(),$("#loader-content").show(),$("#CBRYear").removeClass("errorbox"),$("#CBRMakes").prop("disabled",!1),$("#year").val(n),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"make",dealerId:_currentDealerId,year:n}),success:function(n){$("#CBRMakes").empty();$("#CBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake));$("#CBRModel").empty();$("#CBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel));$("#CBRTrim").empty();$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim));$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle));$("#CBRMakes").prop("disabled",!1);$("#CBRModel").prop("disabled",!0);$("#CBRTrim").prop("disabled",!0);$("#CBRBodyandStyle").prop("disabled",!0);OpenEngandDriveline();$.each(n.makes.divisionField,function(n,t){$("#CBRMakes").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))});$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):($("#CBRMakes").empty(),$("#CBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake)),$("#CBRModel").empty(),$("#CBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel)),$("#CBRTrim").empty(),$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim)),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBREngine").val(""),$("#CBRDriveline").val(""),$("#CBRModel").prop("disabled",!0),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),$("#CBREngine").prop("disabled",!0),$("#CBRDriveline").prop("disabled",!0))});$("#FCACBRYear").change(function(){$("#hdnodometerconfirm").val("0");var n=$(this).val();n==0&&($("#FCACBRMakes").prop("disabled",!0),$("#FCACBRModel").prop("disabled",!0));$("#FCAyearerrormsgimg").hide();$("#FCAyearerrormsg").html("");n!=""&&n!="0"&&n!=null?($("#loader-bg").show(),$("#loader-content").show(),$("#FCACBRYear").removeClass("errorbox"),$("#FCACBRMakes").prop("disabled",!0),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"make",dealerId:_currentDealerId,year:n}),success:function(t){$("#FCACBRModel").empty();$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel));IsSubbaru=="True"||IsLexus=="True"||$("#checkbox-Sterlingcpo").is(":not(:checked)")&&IsToyota=="True"?$("#checkbox-Sterlingnew").is(":checked")||$("#checkbox-Sterlingcpo").is(":checked")?($("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"submakemodellist",dealerId:_currentDealerId,make:$("#FCACBRMakes").val(),maketext:$("#FCACBRMakes option:selected").text(),year:n}),success:function(n){$("#FCACBRModel").prop("disabled",!1);$("#FCACBRMakes").removeClass("errorbox");$("#FCACBRModel").empty();$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel));$.each(n.modelsList,function(n,t){$.each(t.modelField,function(n,t){$("#FCACBRModel option").filter(function(){return $(this).html()==t.valueField}).val()==undefined&&$("#FCACBRModel").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))})});sortSelect(document.getElementById("FCACBRModel"));$("#FCACBRModel option[value='0']").remove();$("<option value='0'>"+ViewResEnglishModel+"<\/option>").insertBefore($("#FCACBRModel option:first-child"));$("#FCACBRModel").val("0");$("#FCACBRModel").trigger("refresh");$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):$("#checkbox-Sterlingused").is(":checked")&&($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake)),$.each(t.makes.divisionField,function(n,t){$("#FCACBRMakes").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))})):($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake)),$("#checkbox-Sterlingnew").is(":checked")?($("#FCACBRMakes").append($("<option><\/option>").attr("value","9").text("Chrysler")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","11").text("Dodge")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","21").text("Jeep")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","57").text("Ram")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","59").text("FIAT")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","43").text("Alfa Romeo"))):$("#checkbox-Sterlingused").is(":checked")?$.each(t.makes.divisionField,function(n,t){$("#FCACBRMakes").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))}):$("#checkbox-Sterlingcpo").is(":checked")&&IsToyota=="True"&&(n<=2016&&$("#FCACBRMakes").append($("<option><\/option>").attr("value","54").text("Scion")),$("#FCACBRMakes").append($("<option><\/option>").attr("value","39").text("Toyota"))));$("#FCACBRMakes").prop("disabled",!1);$("#FCACBRModel").prop("disabled",!0);$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):(IsSubbaru=="True"||IsLexus=="True"||IsToyota=="True"?$("#checkbox-Sterlingused").is(":checked")&&($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake))):($("#FCACBRMakes").empty(),$("#FCACBRMakes").append($("<option><\/option>").attr("value","0").html(ViewResEnglishMake))),$("#FCACBRModel").empty(),$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel)),$("#FCACBRModel").prop("disabled",!0),$("#FCACBRMakes").prop("disabled",!0))});$("#CBRMakes").change(function(){var n=$(this).val(),t="",i="";$("#makeerrormsgimg").hide();t=$("#CBRYear").val();i=$("#CBRMakes option:selected").text();$("#makeerrormsg").html("");n==0&&($("#CBRModel").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),$("#CBRTrim").prop("disabled",!0),OpenEngandDriveline());n!=""&&n!="0"&&n!=null?(n!=""&&n!="0"&&n!=null&&$("#CBRYear").val()!=""&&$("#CBRYear").val()!="0"&&$("#CBRYear").val()!=null&&$("#CBRModel").val()!=""&&$("#CBRModel").val()!="0"&&$("#CBRModel").val()!=null&&$("#CBRTrim").val()!=""&&$("#CBRTrim").val()!="0"&&$("#CBRTrim").val()!=null&&$("#drpFuelType").val()!=""&&$("#drpFuelType").val()!="0"&&$("#drpFuelType").val()!=null&&$("#odometer").val()!=""&&$("#odometer").val()!="0"&&$("#odometer").val()!=null&&$("#btndetails").focus(),$("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"submakemodellist",dealerId:_currentDealerId,make:n,maketext:i,year:t}),success:function(n){$("#CBRModel").prop("disabled",!1);$("#CBRMakes").removeClass("errorbox");$("#CBRModel").empty();$("#CBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel));$("#CBRTrim").empty();$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim));$("#CBRTrim").prop("disabled",!0);$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle));$("#CBRBodyandStyle").prop("disabled",!0);OpenEngandDriveline();$.each(n.modelsList,function(n,t){$.each(t.modelField,function(n,t){$("#CBRModel option").filter(function(){return $(this).html()==t.valueField}).val()==undefined&&$("#CBRModel").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))})});sortSelect(document.getElementById("CBRModel"));$("#CBRModel option[value='0']").remove();$("<option value='0'>"+ViewResEnglishModel+"<\/option>").insertBefore($("#CBRModel option:first-child"));$("#CBRModel").val("0");$("#CBRModel").trigger("refresh");$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):($("#CBRModel").empty(),$("#CBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel)),$("#CBRModel").prop("disabled",!0),$("#CBRTrim").empty(),$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim)),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBRBodyandStyle").prop("disabled",!0),OpenEngandDriveline())});$("#FCACBRMakes").change(function(){var n=$(this).val(),t="",i="";t=$("#FCACBRYear").val();$("#FCACBRYear").removeClass("errorbox");i=$("#FCACBRMakes option:selected").text();$("#FCAmakeerrormsgimg").hide();$("#FCAmakeerrormsg").html("");n==0&&$("#FCACBRModel").prop("disabled",!0);n!=""&&n!="0"&&n!=null?(n!=""&&n!="0"&&n!=null&&$("#CBRYear").val()!=""&&$("#CBRYear").val()!="0"&&$("#CBRYear").val()!=null&&$("#CBRModel").val()!=""&&$("#CBRModel").val()!="0"&&$("#CBRModel").val()!=null&&$("#CBRTrim").val()!=""&&$("#CBRTrim").val()!="0"&&$("#CBRTrim").val()!=null&&$("#drpFuelType").val()!=""&&$("#drpFuelType").val()!="0"&&$("#drpFuelType").val()!=null&&$("#odometer").val()!=""&&$("#odometer").val()!="0"&&$("#odometer").val()!=null&&$("#btndetails").focus(),$("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"submakemodellist",dealerId:_currentDealerId,make:n,maketext:i,year:t}),success:function(n){$("#FCACBRModel").prop("disabled",!1);$("#FCACBRMakes").removeClass("errorbox");$("#FCACBRModel").empty();$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel));$.each(n.modelsList,function(n,t){$.each(t.modelField,function(n,t){$("#FCACBRModel option").filter(function(){return $(this).html()==t.valueField}).val()==undefined&&$("#FCACBRModel").append($("<option><\/option>").attr("value",t.idField).text(t.valueField))})});sortSelect(document.getElementById("FCACBRModel"));$("#FCACBRModel option[value='0']").remove();$("<option value='0'>"+ViewResEnglishModel+"<\/option>").insertBefore($("#FCACBRModel option:first-child"));$("#FCACBRModel").val("0");$("#FCACBRModel").trigger("refresh");$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):($("#FCACBRModel").empty(),$("#FCACBRModel").append($("<option><\/option>").attr("value","0").html(ViewResEnglishModel)))});$("#FCACBRModel").change(function(){$("#FCADatamodelerrormsg").html("");$("#FCADatamodelerrormsgimg").hide();$("#FCACBRModel").removeClass("errorbox")});$("#CBRModel").change(function(){var i=$("#CBRMakes").val(),n=$(this).val(),t=$("#CBRYear").val();$("#Datamodelerrormsgimg").hide();n==0&&($("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0),OpenEngandDriveline());$("#Datamodelerrormsg").html("");n!=""&&n!="0"&&n!=null?($("#CBRMakes").val()!=""&&$("#CBRMakes").val()!="0"&&$("#CBRMakes").val()!=null&&$("#CBRYear").val()!=""&&$("#CBRYear").val()!="0"&&$("#CBRYear").val()!=null&&$("#CBRModel").val()!=""&&$("#CBRModel").val()!="0"&&$("#CBRModel").val()!=null&&$("#CBRTrim").val()!=""&&$("#CBRTrim").val()!="0"&&$("#CBRTrim").val()!=null&&$("#drpFuelType").val()!=""&&$("#drpFuelType").val()!="0"&&$("#drpFuelType").val()!=null&&$("#odometer").val()!=""&&$("#odometer").val()!="0"&&$("#odometer").val()!=null&&$("#btndetails").focus(),$("#loader-bg").show(),$("#loader-content").show(),$.ajax({url:CustAppServiceByChromeData,type:"POST",data:JSON.stringify({type:"trim",dealerId:_currentDealerId,make:$("#CBRMakes option:selected").text(),model:$("#CBRModel option:selected").text(),year:t}),success:function(n){$("#CBRModel").removeClass("errorbox");$("#CBRTrim").prop("disabled",!1);$("#CBRBodyandStyle").prop("disabled",!0);$("#CBRTrim").empty();$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim));$("#CBRBodyandStyle").empty();$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle));FillTrimFieldData(n);$("#loader-bg").hide();$("#loader-content").hide()},error:function(){$("#loader-bg").hide();$("#loader-content").hide()}})):(OpenEngandDriveline(),$("#CBRTrim").empty(),$("#CBRTrim").append($("<option><\/option>").attr("value","0").html(ViewResEnglishTrim)),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)))});$("#CBRTrim").change(function(){var n=$(this).val(),i,u,t,r;$("#trimerrormsgimg").hide();n!="0"?($("#hdntrim").val(""),setmultilangugae(),i=$("#CBRTrim option:selected").text(),$("#hdntrim").val(i),u=i,$("#CBRTrim").removeClass("errorbox"),$("#trimerrormsg").html(""),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBRBodyandStyle").prop("disabled",!1),OpenEngandDriveline(),n!=null&&n!=""&&n!="0"&&vehidescFillStylesafterTrims!=null&&(t=vehidescFillStylesafterTrims,t.vehicleDescription.styleField!=null&&($.each(t.vehicleDescription.styleField,function(t,i){if(i.subdivisionField.valueField.indexOf("Chassis-Cabs")==-1){var r=changesinStyleField(i.nameWoTrimField);$("#CBRBodyandStyle option").filter(function(){return $(this).html()==r}).val()==undefined&&(n==i.trimField?$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",i.idField).text(r)):i.trimField==null&&n=="Base"&&$("#CBRBodyandStyle").append($("<option><\/option>").attr("value",i.idField).text(r)))}}),r=$("#CBRBodyandStyle > option").length,r==2?($("#CBRBodyandStyle option[value='0']").remove(),$("#CBRBodyandStyle").prop("disabled",!0),getEngineAndDriveline(t,$("#CBRBodyandStyle").val()),$("#BodyandStyleerrormsgimg").hide(),$("#BodyandStyleerrormsg").html(""),$("#CBRBodyandStyle").removeClass("errorbox")):(Issinglelineentry||IsCarfaxVin)&&($("#CBRTransmission").empty(),$("#CBRTransmission").append($("<option><\/option>").attr("value","0").text(ViewResEnglishtransmission)),$("#CBRTransmission").prop("disabled",!1),$(".hideddls").hide(),$("#dvshowtextNeedinfo").show(),$(".hidesubvehicledetails").show(),OpenEngandDriveline(),$("#dvBSWhenIsCarfaxVin").show(),$("#spnvehicledetails").html(t.vehicleDescription.modelYearField+" "+t.vehicleDescription.bestMakeNameField+" "+t.vehicleDescription.bestModelNameField+" "+n))))):Issinglelineentry||IsCarfaxVin?($(".hideddls").hide(),$(".hidesubvehicledetails").show(),$("#dvshowtextNeedinfo").show(),$("#CBRTransmission").empty(),$("#CBRTransmission").append($("<option><\/option>").attr("value","0").text(ViewResEnglishtransmission)),$("#CBRTransmission").prop("disabled",!1),OpenEngandDriveline(),$("#dvBSWhenIsCarfaxVin").hide(),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBRBodyandStyle").prop("disabled",!1)):(OpenEngandDriveline(),$("#CBRBodyandStyle").empty(),$("#CBRBodyandStyle").append($("<option><\/option>").attr("value","0").html(ViewResEnglishBodyandStyle)),$("#CBRBodyandStyle").prop("disabled",!1))});$("#CBRTransmission").change(function(){$("#Transmissionerrormsg").html("");$("#Transmissionerrormsgimg").hide();$("#CBRTransmission").removeClass("errorbox")});$("#CBRBodyandStyle").change(function(){if($(this).val()!=""&&$(this).val()!=0){$("#CBRBodyandStyle").removeClass("errorbox");$("#BodyandStyleerrormsgimg").hide();$("#BodyandStyleerrormsg").html("");OpenEngandDriveline();var n=$(this).val(),t=vehidescFillStylesafterTrims;getEngineAndDriveline(t,n)}else $("#chromeStyleId").val(0),$("#modelCode").val("")});$("#CBREngine").change(function(){$("#CBREngine option:selected").val()!="0"&&($("#CBREngine").removeClass("errorbox"),$("#Engineerrormsgimg").hide(),$("#Engineerrormsg").html(""))});$("#CBRDriveline").change(function(){$("#CBRDriveline option:selected").val()!="0"&&($("#CBRDriveline").removeClass("errorbox"),$("#Drivelineerrormsgimg").hide(),$("#Drivelineerrormsg").html(""))});$("#CBREnginetxt").blur(function(){$("#CBREnginetxt").val()!=""&&($("#CBREnginetxt").removeClass("errorbox"),$("#Engineerrormsgtxt").html(""),$("#Engineerrormsgtxtimg").hide())});$("#CBRDrivelinetxt").blur(function(){$("#CBRDrivelinetxt").val()!=""&&($("#CBRDrivelinetxt").removeClass("errorbox"),$("#Drivelineerrormsgtxt").html(""),$("#Drivelineerrormsgtxtimg").hide())});$("#btnyes").click(function(){$("#hdnodometerconfirm").val("1");$("#odometererrormsg").html("");$("#dvOdometerConfirm").hide()});$("#btnno").click(function(){$("#hdnodometerconfirm").val("0");$("#odometererrormsg").html("");$("#dvOdometerConfirm").hide();$("#odometer").focus()});$("#divunonecheck :checkbox").click(function(){$(this).is(":checked")?($(this).attr("checked","checked"),$("label[for='"+$(this).attr("id")+"']").removeClass("trademaker_labelinactvie"),$("label[for='"+$(this).attr("id")+"']").addClass("trademaker_labelactvie"),$("#Usedornone").val($(this).is(":checked"))):($(this).removeAttr("checked","checked"),$("label[for='"+$(this).attr("id")+"']").addClass("trademaker_labelinactvie"),$("label[for='"+$(this).attr("id")+"']").removeClass("trademaker_labelactvie"),$("#Usedornone").val($(this).is(":checked")));$("#divcheck input[type=checkbox]").each(function(){$(this).removeAttr("checked")})});$("#divtrademaker :checkbox").click(function(){$("#divtrademaker input:checked").attr("checked","");$(this).is(":checked")?($("label[for='"+$(this).attr("id")+"']").removeClass("trademaker_labelinactvie"),$("label[for='"+$(this).attr("id")+"']").addClass("trademaker_labelactvie")):($("label[for='"+$(this).attr("id")+"']").addClass("trademaker_labelinactvie"),$("label[for='"+$(this).attr("id")+"']").removeClass("trademaker_labelactvie"))});$("#drpFuelType").change(function(){$("#CBRMakes").val()!=""&&$("#CBRMakes").val()!="0"&&$("#CBRMakes").val()!=null&&$("#CBRYear").val()!=""&&$("#CBRYear").val()!="0"&&$("#CBRYear").val()!=null&&$("#CBRModel").val()!=""&&$("#CBRModel").val()!="0"&&$("#CBRModel").val()!=null&&$("#CBRTrim").val()!=""&&$("#CBRTrim").val()!="0"&&$("#CBRTrim").val()!=null&&$("#drpFuelType").val()!=""&&$("#drpFuelType").val()!="0"&&$("#drpFuelType").val()!=null&&$("#odometer").val()!=""&&$("#odometer").val()!="0"&&$("#odometer").val()!=null&&$("#btndetails").focus()});$("#odometer").change(function(){$("#CBRMakes").val()!=""&&$("#CBRMakes").val()!="0"&&$("#CBRMakes").val()!=null&&$("#CBRYear").val()!=""&&$("#CBRYear").val()!="0"&&$("#CBRYear").val()!=null&&$("#CBRModel").val()!=""&&$("#CBRModel").val()!="0"&&$("#CBRModel").val()!=null&&$("#CBRTrim").val()!=""&&$("#CBRTrim").val()!="0"&&$("#CBRTrim").val()!=null&&$("#drpFuelType").val()!=""&&$("#drpFuelType").val()!="0"&&$("#drpFuelType").val()!=null&&$("#odometer").val()!=""&&$("#odometer").val()!="0"&&$("#odometer").val()!=null&&$("#btndetails").focus()});$("#transmission").change(function(){var n=$(this).val();n!=""&&n!=null&&n!=undefined&&($("#transmission").removeClass("errorbox"),$("#hdntransmssion").val(n),$("#transmissionerrormsg").html(""),$("#transmissionerrormsgimg").hide())});$("#ZipCode").keypress(function(){$("#ZipCodeerrormsg").html("");$("#ZipCodeerrormsgimg").hide()});$("#Email").keypress(function(){$("#lblinvalidemail").html("");$("#lblinvalidemailimg").hide()});$("#Email").change(function(){doEmailValidation()});$(document).on("change","#ddlSalesStaffID",function(){var n=$(this).val();n!=0&&n!=""&&n!=null&&n!=undefined?($("#ddlSalesStaffID").removeClass("errorbox"),$("#IsSalesPerson").removeClass("errorbox"),$("#Saleseerrormsg").html(""),$("#Saleseerrormsgimg").hide(),$("#SalesPersonId").val(n)):$("#SalesPersonId").val("0")});$(".greybtn").hover(function(){$(this).next().addClass("shadowon")},function(){$(this).next().removeClass("shadowon")});$("#vin").keyup(function(n){var t=$("#vin").val();if(t!=null&t!=""&t.length==17){if(n.which===16||n.which===17||n.which>=35&&n.which<=40)return;$(".buttonhide").prop("disabled",!0);$(".buttonhide").addClass("disabled");decodevin()}else $("#tabs1 span").html(""),$("select").removeClass("errorbox"),$(".buttonhide").prop("disabled",!1),$(".buttonhide").removeClass("disabled"),cleardropdowns(),$("#CBRYear").prop("disabled",!1),$("#odometererrormsgimg").hide(),$("#odometererrormsg").html(""),$("#odometer").removeClass("errorbox"),$("#CBRModel").prop("disabled",!0),$("#CBRMakes").prop("disabled",!0),$("#CBRTrim").prop("disabled",!0),$("#CBRBodyandStyle").prop("disabled",!0)});$(".ownern input[type='radio'].greybtn").click(function(){$(".ownern input[type='button'].greybtn").removeClass("selectedradio");$(this).next(".greybtn").addClass("selectedradio")});$(".transmission input[type='radio'].greybtn").click(function(){$(".transmission input[type='button'].greybtn").removeClass("selectedradio");$(this).next(".greybtn").addClass("selectedradio")});t=$("#odometer").val();t=="0"&&$("#odometer").val("");$.extend($.fn.autoNumeric.defaults,{aSep:".",aDec:",",aSign:"$"});$("#odometer").autoNumeric("init",{aSep:",",aNeg:"",mDec:0,mNum:8,vMax:999999});$(document).on("click","#IsSalesPerson",function(){$(this).is(":checked")?($("#ddlSalesStaffID").prop("disabled",!0),$("#ddlSalesStaffID")[0].options[0].selected=!0,$("#ddlSalesStaffID").removeClass("errorbox"),$("#Saleseerrormsg").html(""),$("#Saleseerrormsgimg").hide(),$("#SalesPersonId").val("0")):$("#ddlSalesStaffID").prop("disabled",!1)});$(".conditiondiv img").click(function(){var n,r,u,t,f,i;$("#conditionerrmessage").html("");$("#conditionimg").hide();n="";r="";$("#hdnpreviousurl").val()!=""&&$("#hdnpreviousurl").val()!=null&&(n=$("#hdnpreviousurl").val().replace("1",""),u=$("#hdnpreviousId").val(),$("#"+u+"").attr("src",n));t=$(this).attr("src");t=t.replace(/\.[^/.]+$/,"");f=t.replace(/\.[^/.]+$/,"");i=f+"1.png";n=$("#hdnpreviousurl").val(i);r=$("#hdnpreviousId").val($(this).attr("id"));$(this).prev("input").prop("checked",!0);$(this).attr("src",i)});$("#drpengineType").change(function(){var n=$(this).val();if(n=="Other")return $("#EngineSizeOther").css("display","block"),!1;$("#EngineSizeOther").css("display","none")});$("#details").click(function(){getcarfaxdetails("conditions","tabs1",this)});$("#conditions").click(function(){getcarfaxdetails("conditions","tabs2",this)});$("#delievery").click(function(){getcarfaxdetails("delievery","tabs4",this)});$("#options").click(function(){getcarfaxdetails("options","tabs3",this)});Issinglelineentry||IsCarfaxVin?IsCarfaxVin||Issinglelineentry&&$("#loopAutocomp").focus():(Modelyearbinding(),$("#CBRYear").focus());$("#Starts").click(function(){$("#tabsactive").val("");$("#txtLicencePlate").removeClass("errorbox");$("#imgErrorExclamatery").hide();$("#errStateCodeimg").hide();$("#errLicencePlate").html("");$("#errStateCode").html("");$("#spnErrmsg").html("");IsCarfaxVin?$("#StateCode").focus():Issinglelineentry&&$("#loopAutocomp").focus()});$("#btnStartdetails").click(function(){var n=0;if(n=ValidateVehicleInfo(),n>0)return!1;IsCarfaxVin?getcarfaxdetails("start",""):($("#loader-bg").hide(),$("#loader-content").hide(),GetStartDetailstoNextStep())});$("#btnStartdetails3").click(function(){var t=0,n=!1,i=$("#StateCode option:selected").val(),r=$("#txtLicencePlate").val().trim();if(i==""||i==null?($("#errStateCode").html(ViewResEnglishStateValidation),$("#errStateCodeimg").show(),$("#StateCode").addClass("errorbox"),n||($("#StateCode").focus(),n=!0),t++):($("#errStateCodeimg").hide(),$("#StateCode").removeClass("errorbox"),$("#errStateCode").html("")),r==null||r==""?($("#errLicencePlate").html(ViewResEnglishLicenceValidation),$("#imgErrorExclamatery").show(),$("#txtLicencePlate").addClass("errorbox"),n||($("#txtLicencePlate").focus(),n=!0),t++):($("#errLicencePlate").html(""),$("#imgErrorExclamatery").hide(),$("#txtLicencePlate").removeClass("errorbox")),t>0)return!1;IsCarfaxVin?getcarfaxdetails("start",""):($("#loader-bg").hide(),$("#loader-content").hide(),GetStartDetailstoNextStep())});let i=$("#Email").val();i&&i.length>0&&doEmailValidation()});bindEvent(window,"message",function(n){var c;if($("#IsConsVehicleInfo").val("True"),kslcarsdealers=="True"){var i="",f="",u="",e="",o="",s="",r="",t=[],h=!1;r=n.data;c=JSON.parse(n.data);r!=undefined&&r!="undefined"&&r!=""&&(r=r,t=JSON.parse(r),console.log("ksldata:"+t),t!=undefined&&t!="undefined"&&(i=t.vin,f=t.mileage,u=t.name,e=t.email,s=t.zip,o=t.phone,h=t.newcar,$("#ConsInterestedYear").val(t.makeYear),$("#ConsInterestedMake").val(t.make),$("#ConsInterestedModel").val(t.model),$("#ConsInterestedTrim").val(t.trim),$("#ConsInterestedMiles").val(f.replace(/,/g,"")),$("#ConsInterestedStock").val(t.stock),i!=undefined&&i!="undefined"&&i!=""&&(i=i.trim(),$("#ConsInterestedVin").val(i)),$("#FullName").val(u),$("#LastName").val(u),$("#Email").val(e),$("#Phone").val(o),$("#ZipCode").val(s),h==!0?($("#hdnsterlingnew").val("true"),$("#hdnsterlingused").val("false"),$("#lblsterling").addClass("kslcars_labelactvie"),$("#lblsterling").removeClass("kslcars_labelinactvie"),$("#lblsterlingused").removeClass("kslcars_labelactvie"),$("#lblsterlingused").addClass("kslcars_labelinactvie"),$("#ConsInterestedVehicleStatus").val("new")):($("#hdnsterlingused").val("true"),$("#hdnsterlingnew").val("false"),$("#lblsterling").addClass("kslcars_labelinactvie"),$("#lblsterling").removeClass("kslcars_labelactvie"),$("#lblsterlingused").removeClass("kslcars_labelinactvie"),$("#lblsterlingused").addClass("kslcars_labelactvie"),$("#ConsInterestedVehicleStatus").val("used"))))}});sendMessage=function(n){window.parent.postMessage(n,"*")},function(n,t){typeof define=="function"&&define.amd?define("bloodhound",["jquery"],function(i){return n.Bloodhound=t(i)}):typeof exports=="object"?module.exports=t(require("jquery")):n.Bloodhound=t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),u="0.11.1",f=function(){"use strict";function n(n){return n=t.toStr(n),n?n.split(/\s+/):[]}function i(n){return n=t.toStr(n),n?n.split(/\W+/):[]}function r(n){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(r){var u=[];return t.each(i,function(i){u=u.concat(n(t.toStr(r[i])))}),u}}}return{nonword:i,whitespace:n,obj:{nonword:r(i),whitespace:r(n)}}}(),i=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100;this.reset();this.maxSize<=0&&(this.set=this.get=n.noop)}function r(){this.head=this.tail=null}function u(n,t){this.key=n;this.val=t;this.prev=this.next=null}return t.mixin(i.prototype,{set:function(n,t){var r=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--);(i=this.hash[n])?(i.val=t,this.list.moveToFront(i)):(i=new u(n,t),this.list.add(i),this.hash[n]=i,this.size++)},get:function(n){var t=this.hash[n];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0;this.hash={};this.list=new r}}),t.mixin(r.prototype,{add:function(n){this.head&&(n.next=this.head,this.head.prev=n);this.head=n;this.tail=this.tail||n},remove:function(n){n.prev?n.prev.next=n.next:this.head=n.next;n.next?n.next.prev=n.prev:this.tail=n.prev},moveToFront:function(n){this.remove(n);this.add(n)}}),i}(),e=function(){"use strict";function r(n,r){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||i;this.ls||this._noop()}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(t){return n.parseJSON(t)}function o(n){for(var r,u=[],f=i.length,t=0;t<f;t++)(r=i.key(t)).match(n)&&u.push(r.replace(n,""));return u}var i;try{i=window.localStorage;i.setItem("~~~","!");i.removeItem("~~~")}catch(s){i=null}return t.mixin(r.prototype,{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(n,t){try{this.ls.setItem(n,t)}catch(i){i.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(n){return this.isExpired(n)&&this.remove(n),e(this.ls.getItem(this._prefix(n)))},set:function(n,i,r){return t.isNumber(r)?this._safeSet(this._ttlKey(n),f(u()+r)):this.ls.removeItem(this._ttlKey(n)),this._safeSet(this._prefix(n),f(i))},remove:function(n){return this.ls.removeItem(this._ttlKey(n)),this.ls.removeItem(this._prefix(n)),this},clear:function(){for(var t=o(this.keyMatcher),n=t.length;n--;)this.remove(t[n]);return this},isExpired:function(n){var i=e(this.ls.getItem(this._ttlKey(n)));return t.isNumber(i)&&u()>i?!0:!1}}),r}(),r=function(){"use strict";function r(n){n=n||{};this.cancelled=!1;this.lastReq=null;this._send=n.transport;this._get=n.limiter?n.limiter(this._get):this._get;this._cache=n.cache===!1?new i(0):o}var u=0,f={},e=6,o=new i(10);return r.setMaxPendingRequests=function(n){e=n},r.resetCache=function(){o.reset()},t.mixin(r.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+n.param(t.data||{})},_get:function(n,t){function s(n){t(null,n);i._cache.set(r,n)}function h(){t(!0)}function c(){u--;delete f[r];i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r,o;(r=this._fingerprint(n),this.cancelled||r!==this.lastReq)||((o=f[r])?o.done(s).fail(h):u<e?(u++,f[r]=this._send(n).done(s).fail(h).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,r){var f,u;r=r||n.noop;i=t.isString(i)?{url:i}:i||{};u=this._fingerprint(i);this.cancelled=!1;this.lastReq=u;(f=this._cache.get(u))?r(null,f):this._get(i,r)},cancel:function(){this.cancelled=!0}}),r}(),o=window.SearchIndex=function(){"use strict";function u(i){i=i||{};i.datumTokenizer&&i.queryTokenizer||n.error("datumTokenizer and queryTokenizer are both required");this.identify=i.identify||t.stringify;this.datumTokenizer=i.datumTokenizer;this.queryTokenizer=i.queryTokenizer;this.reset()}function f(n){return n=t.filter(n,function(n){return!!n}),t.map(n,function(n){return n.toLowerCase()})}function e(){var n={};return n[r]=[],n[i]={},n}function o(n){for(var i={},r=[],t=0,u=n.length;t<u;t++)i[n[t]]||(i[n[t]]=!0,r.push(n[t]));return r}function s(n,t){var i=0,r=0,u=[],f,e;for(n=n.sort(),t=t.sort(),f=n.length,e=t.length;i<f&&r<e;)n[i]<t[r]?i++:n[i]>t[r]?r++:(u.push(n[i]),i++,r++);return u}var i="c",r="i";return t.mixin(u.prototype,{bootstrap:function(n){this.datums=n.datums;this.trie=n.trie},add:function(n){var u=this;n=t.isArray(n)?n:[n];t.each(n,function(n){var o,s;u.datums[o=u.identify(n)]=n;s=f(u.datumTokenizer(n));t.each(s,function(n){for(var f,t=u.trie,s=n.split("");f=s.shift();)t=t[i][f]||(t[i][f]=e()),t[r].push(o)})})},get:function(n){var i=this;return t.map(n,function(n){return i.datums[n]})},search:function(n){var e=this,h,u;return h=f(this.queryTokenizer(n)),t.each(h,function(n){var t,f,h,o;if(u&&u.length===0)return!1;for(t=e.trie,f=n.split("");t&&(h=f.shift());)t=t[i][h];if(t&&f.length===0)o=t[r].slice(0),u=u?s(u,o):o;else return u=[],!1}),u?t.map(o(u),function(n){return e.datums[n]}):[]},all:function(){var n=[],t;for(t in this.datums)n.push(this.datums[t]);return n},reset:function(){this.datums={};this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),u}(),s=function(){"use strict";function i(n){this.url=n.url;this.ttl=n.ttl;this.cache=n.cache;this.prepare=n.prepare;this.transform=n.transform;this.transport=n.transport;this.thumbprint=n.thumbprint;this.storage=new e(n.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t={},i;return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),i=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!i?t.data:null):null},fromNetwork:function(n){function r(){n(!0)}function u(t){n(null,i.transform(t))}var i=this,t;n&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(u))},clear:function(){return this.storage.clear(),this}}),i}(),h=function(){"use strict";function n(n){this.url=n.url;this.prepare=n.prepare;this.transform=n.transform;this.transport=new r({cache:n.cache,limiter:n.limiter,transport:n.transport})}return t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(n,t){function u(n,i){n?t([]):t(r.transform(i))}var r=this,i;if(t)return n=n||"",i=this.prepare(n,this._settings()),this.transport.get(i,u)},cancelLastRequest:function(){this.transport.cancel()}}),n}(),c=function(){"use strict";function r(r){var f;return r?(f={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(f,r),r.url||n.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=u+r.thumbprint,r.transport=r.transport?i(r.transport):n.ajax,r):null}function f(r){var u;if(r)return u={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),r.url||n.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=e(r),r.limiter=o(r),r.transport=r.transport?i(r.transport):n.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r}function e(n){function u(n,t){return t.url=i(t.url,n),t}function f(n,t){return t.url=t.url.replace(r,encodeURIComponent(n)),t}function e(n,t){return t}var t,i,r;return(t=n.prepare,i=n.replace,r=n.wildcard,t)?t:i?u:n.wildcard?f:e}function o(n){function f(n){return function(i){return t.debounce(i,n)}}function e(n){return function(i){return t.throttle(i,n)}}var i,u,r;return i=n.limiter,u=n.rateLimitBy,r=n.rateLimitWait,i||(i=/^throttle$/i.test(u)?e(r):f(r)),i}function i(i){return function(r){function f(n){t.defer(function(){u.resolve(n)})}function e(n){t.defer(function(){u.reject(n)})}var u=n.Deferred();return i(r,f,e),u}}return function(i){var e,u;return e={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(e,i||{}),i.datumTokenizer||n.error("datumTokenizer is required"),i.queryTokenizer||n.error("queryTokenizer is required"),u=i.sorter,i.sorter=u?function(n){return n.sort(u)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=r(i.prefetch),i.remote=f(i.remote),i}}();return function(){"use strict";function i(n){n=c(n);this.sorter=n.sorter;this.identify=n.identify;this.sufficient=n.sufficient;this.local=n.local;this.remote=n.remote?new h(n.remote):null;this.prefetch=n.prefetch?new s(n.prefetch):null;this.index=new o({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer});n.initialize!==!1&&this.initialize()}var u;return u=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=u),i},i.tokenizers=f,t.mixin(i.prototype,{__ttAdapter:function(){function t(t,i,r){return n.search(t,i,r)}function i(t,i){return n.search(t,i)}var n=this;return this.remote?t:i},_loadPrefetch:function(){function u(n,r){if(n)return t.reject();i.add(r);i.prefetch.store(i.index.serialize());t.resolve()}var i=this,t,r;return t=n.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),t.resolve()):this.prefetch.fromNetwork(u):t.resolve(),t.promise()},_initialize:function(){function t(){n.add(n.local)}var n=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){return this.index.add(n),this},get:function(n){return n=t.isArray(n)?n:[].slice.call(arguments),this.index.get(n)},search:function(n,i,r){function e(n){var i=[];t.each(n,function(n){t.some(u,function(t){return f.identify(n)===f.identify(t)})||i.push(n)});r&&r(i)}var f=this,u;return u=this.sorter(this.index.search(n)),i(this.remote?u.slice():u),this.remote&&u.length<this.sufficient?this.remote.get(n,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(n,t){typeof define=="function"&&define.amd?define("typeahead.js",["jquery"],function(n){return t(n)}):typeof exports=="object"?module.exports=t(require("jquery")):t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),e=function(){"use strict";function i(i){var e,o;return o=t.mixin({},n,i),e={css:f(),classes:o,html:r(o),selectors:u(o)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){t.mixin(n,e)}}}function r(n){return{wrapper:'<span class="'+n.wrapper+'"><\/span>',menu:'<div class="'+n.menu+'"><\/div>'}}function u(n){var i={};return t.each(n,function(n,t){i[t]="."+n}),i}function f(){var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n}var n={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i}(),o=function(){"use strict";function u(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(u.prototype,{_trigger:function(t,r){var u;return u=n.Event(i+t),(r=r||[]).unshift(u),this.$el.trigger.apply(this.$el,r),u},before:function(n){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+n,t),i.isDefaultPrevented()},trigger:function(n){var t;this._trigger(n,[].slice.call(arguments,1));(t=r[n])&&this._trigger(t,[].slice.call(arguments,1))}}),u}(),r=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?h(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function u(n,i,r){return t.call(this,"async",n,i,r)}function f(n,i,r){return t.call(this,"sync",n,i,r)}function e(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function o(t){var u,f,e,o,s;if(!this._callbacks)return this;for(t=t.split(n),e=[].slice.call(arguments,1);(u=t.shift())&&(f=this._callbacks[u]);)o=i(f.sync,this,[u].concat(e)),s=i(f.async,this,[u].concat(e)),o()&&r(s);return this}function i(n,t,i){function r(){for(var u,r=0,f=n.length;!u&&r<f;r+=1)u=n[r].apply(t,i)===!1;return!u}return r}function s(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function h(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,r=s();return{onSync:f,onAsync:u,off:e,trigger:o}}(),s=function(n){"use strict";function r(n,i,r){for(var f=[],e,u=0,o=n.length;u<o;u++)f.push(t.escapeRegExChars(n[u]));return e=r?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",i?new RegExp(e):new RegExp(e,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,e;return(i=f.exec(t.data))&&(e=n.createElement(u.tagName),u.className&&(e.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),e.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(e,r)),!!i}function e(n,t){for(var r,i=0;i<n.childNodes.length;i++)r=n.childNodes[i],r.nodeType===3?i+=t(r)?1:0:e(r,t)}var f;(u=t.mixin({},i,u),u.node&&u.pattern)&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],f=r(u.pattern,u.caseSensitive,u.wordsOnly),e(u.node,o))}}(window.document),u=function(){"use strict";function i(i,r){i=i||{};i.input||n.error("input is missing");r.mixin(this);this.$hint=n(i.hint);this.$input=n(i.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=e(this.$input);this._checkLanguageDirection();this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function e(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function f(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return t.toStr(n).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(n){var t=u[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(n,t){var i;switch(n){case"up":case"down":i=!f(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!f(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var n=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==n&&(this.dir=n,this.$hint.attr("dir",n),this.trigger("langDirChanged",n))},_setQuery:function(n,t){var i,r;i=o(n,this.query);r=i?this.query.length!==n.length:!1;this.query=n;t||i?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var n=this,i,r,f,e;i=t.bind(this._onBlur,this);r=t.bind(this._onFocus,this);f=t.bind(this._onKeydown,this);e=t.bind(this._onInput,this);this.$input.on("blur.tt",i).on("focus.tt",r).on("keydown.tt",f);if(!t.isMsie()||t.isMsie()>9)this.$input.on("input.tt",e);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(i){u[i.which||i.keyCode]||t.defer(t.bind(n._onInput,n,i))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(n,t){this.setInputValue(n);this._setQuery(n,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(n){this.$input.val(n);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&t.indexOf(n)===0;r=n!==""&&i&&!this.hasOverflow();r||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return(n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i))?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=n("<div>")}}),i}(),f=function(){"use strict";function u(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;i.source||n.error("missing source");i.node||n.error("missing node");i.name&&!h(i.name)&&n.error("invalid dataset name: "+i.name);r.mixin(this);this.highlight=!!i.highlight;this.name=i.name||f();this.limit=i.limit||5;this.displayFn=e(i.display||i.displayKey);this.templates=o(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=n(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function e(n){function i(t){return t[n]}return n=n||t.stringify,t.isFunction(n)?n:i}function o(i,r){function u(t){return n("<div>").text(r(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||u}}function h(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var i,f;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},f=t.getIdGenerator(),u.extractData=function(t){var r=n(t);return r.data(i.obj)?{val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(u.prototype,r,{_overwrite:function(n,t){t=t||[];t.length?this._renderSuggestions(n,t):this.async&&this.templates.pending?this._renderPending(n):!this.async&&this.templates.notFound?this._renderNotFound(n):this._empty();this.trigger("rendered",this.name,t,!1)},_append:function(n,t){t=t||[];t.length&&this.$lastSuggestion.length?this._appendSuggestions(n,t):t.length?this._renderSuggestions(n,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(n);this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(n,t){var i;i=this._getSuggestionsFragment(n,t);this.$lastSuggestion=i.children().last();this.$el.html(i).prepend(this._getHeader(n,t)).append(this._getFooter(n,t))},_appendSuggestions:function(n,t){var i,r;i=this._getSuggestionsFragment(n,t);r=i.children().last();this.$lastSuggestion.after(i);this.$lastSuggestion=r},_renderPending:function(n){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_renderNotFound:function(n){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(r,u){var f=this,e;return e=document.createDocumentFragment(),t.each(u,function(t){var u,o;o=f._injectQuery(r,t);u=n(f.templates.suggestion(o)).data(i.obj,t).data(i.val,f.displayFn(t)).addClass(f.classes.suggestion+" "+f.classes.selectable);e.appendChild(u[0])}),this.highlight&&s({className:this.classes.highlight,node:e,pattern:r}),n(e)},_getFooter:function(n,t){return this.templates.footer?this.templates.footer({query:n,suggestions:t,dataset:this.name}):null},_getHeader:function(n,t){return this.templates.header?this.templates.header({query:n,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=n()},_injectQuery:function(n,i){return t.isObject(i)?t.mixin({_query:n},i):i},update:function(t){function e(n){u||(u=!0,n=(n||[]).slice(0,i.limit),r=n.length,i._overwrite(t,n),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}function o(u){u=u||[];!f&&r<i.limit&&(i.cancel=n.noop,r+=u.length,i._append(t,u.slice(0,i.limit-r)),i.async&&i.trigger("asyncReceived",t))}var i=this,f=!1,u=!1,r=0;this.cancel();this.cancel=function(){f=!0;i.cancel=n.noop;i.async&&i.trigger("asyncCanceled",t)};this.source(t,e,o);u||e([])},cancel:n.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=n("<div>")}}),u}(),i=function(){"use strict";function i(i,r){function e(t){var i=u.$node.find(t.node).first();return t.node=i.length?i:n("<div>").appendTo(u.$node),new f(t,r)}var u=this;i=i||{};i.node||n.error("node is required");r.mixin(this);this.$node=n(i.node);this.query=null;this.datasets=t.map(i.datasets,e)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",n(t.currentTarget))},_onRendered:function(n,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(n){return n.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var n=this.getActiveSelectable();n&&n.removeClass(this.classes.cursor)},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$node.scrollTop();u=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);t<0?this.$node.scrollTop(r+t):u<i&&this.$node.scrollTop(r+(i-u))},bind:function(){var n=this,i=t.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,i);return t.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(n){this.$node.attr("dir",n)},selectableRelativeToCursor:function(n){var i,r,u,t;return r=this.getActiveSelectable(),i=this._getSelectables(),u=r?i.index(r):-1,t=u+n,t=(t+1)%(i.length+1)-1,t=t<-1?i.length-1:t,t===-1?null:i.eq(t)},setCursor:function(n){this._removeCursor();(n=n&&n.first())&&(n.addClass(this.classes.cursor),this._ensureVisible(n))},getSelectableData:function(n){return n&&n.length?f.extractData(n):null},getActiveSelectable:function(){var n=this._getSelectables().filter(this.selectors.cursor).first();return n.length?n:null},getTopSelectable:function(){var n=this._getSelectables().first();return n.length?n:null},update:function(n){function r(t){t.update(n)}var i=n!==this.query;return i&&(this.query=n,t.each(this.datasets,r)),i},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){function i(n){n.destroy()}this.$node.off(".tt");this.$node=n("<div>");t.each(this.datasets,i)}}),i}(),h=function(){"use strict";function r(){i.apply(this,[].slice.call(arguments,0))}var n=i.prototype;return t.mixin(r.prototype,i.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css(t==="ltr"?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),c=function(){"use strict";function r(r,u){var f,e,o,s,h,c,l,a,v,y,p;r=r||{};r.input||n.error("missing input");r.menu||n.error("missing menu");r.eventBus||n.error("missing event bus");u.mixin(this);this.eventBus=r.eventBus;this.minLength=t.isNumber(r.minLength)?r.minLength:1;this.input=r.input;this.menu=r.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=i(this,"activate","open","_onFocused");e=i(this,"deactivate","_onBlurred");o=i(this,"isActive","isOpen","_onEnterKeyed");s=i(this,"isActive","isOpen","_onTabKeyed");h=i(this,"isActive","_onEscKeyed");c=i(this,"isActive","open","_onUpKeyed");l=i(this,"isActive","open","_onDownKeyed");a=i(this,"isActive","isOpen","_onLeftKeyed");v=i(this,"isActive","isOpen","_onRightKeyed");y=i(this,"_openIfActive","_onQueryChanged");p=i(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",e,this).onSync("enterKeyed",o,this).onSync("tabKeyed",s,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",l,this).onSync("leftKeyed",a,this).onSync("rightKeyed",v,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(n){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return n[t].apply(n,r)})}}return t.mixin(r.prototype,{_hacks:function(){var r,i;r=this.input.$input||n("<div>");i=this.menu.$node||n("<div>");r.on("blur.tt",function(n){var u,f,e;u=document.activeElement;f=i.is(u);e=i.has(u).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){r.focus()}))});i.on("mousedown.tt",function(n){n.preventDefault()})},_onSelectableClicked:function(n,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,t,i,r){this._updateHint();this.eventBus.trigger("render",i,r,t)},_onAsyncRequested:function(n,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(n,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(n,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var f,i,n,e,o,s,r;f=this.menu.getTopSelectable();i=this.menu.getSelectableData(f);n=this.input.getInputValue();!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(e=u.normalizeQuery(n),o=t.escapeRegExChars(e),s=new RegExp("^(?:"+o+")(.+$)","i"),r=s.exec(i.val),r&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var t=this.menu.getSelectableData(n);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(n){var i,t,r;return(i=this.input.getQuery(),t=this.menu.getSelectableData(n),r=t&&i!==t.val,r&&!this.eventBus.before("autocomplete",t.obj))?(this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0):!1},moveCursor:function(n){var u,i,t,r,f;return(u=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(n),t=this.menu.getSelectableData(i),r=t?t.obj:null,f=this._minLengthMet()&&this.menu.update(u),!f&&!this.eventBus.before("cursorchange",r))?(this.menu.setCursor(i),t?this.input.setInputValue(autocompStripTags(t.val)):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0):!1},destroy:function(){this.input.destroy();this.menu.destroy()}}),r}();(function(){"use strict";function r(t,i){t.each(function(){var t=n(this),r;(r=t.data(f.typeahead))&&i(r,t)})}function v(n,t){return n.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(p(n)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function y(n,t){n.data(f.attrs,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{n.attr("dir")||n.attr("dir","auto")}catch(i){}return n}function p(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function w(n){var r,i;r=n.data(f.www);i=n.parent().filter(r.selectors.wrapper);t.each(n.data(f.attrs),function(i,r){t.isUndefined(i)?n.removeAttr(r):n.attr(r,i)});n.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(r.classes.input);i.length&&(n.detach().insertAfter(i),i.remove())}function a(i){var u,r;return u=t.isJQuery(i)||t.isElement(i),r=u?n(i).first():[],r.length?r:null}var l,f,s;l=n.fn.typeahead;f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};s={initialize:function(r,s){function p(){var e,d,p,w,b,k,g,nt,tt,it,rt;t.each(s,function(n){n.highlight=!!r.highlight});e=n(this);d=n(l.html.wrapper);p=a(r.hint);w=a(r.menu);b=r.hint!==!1&&!p;k=r.menu!==!1&&!w;b&&(p=v(e,l));k&&(w=n(l.html.menu).css(l.css.menu));p&&p.val("");e=y(e,l);(b||k)&&(d.css(l.css.wrapper),e.css(b?l.css.input:l.css.inputWithNoHint),e.wrap(d).parent().prepend(b?p:null).append(k?w:null));rt=k?h:i;g=new o({el:e});nt=new u({hint:p,input:e},l);tt=new rt({node:w,datasets:s},l);it=new c({input:nt,menu:tt,eventBus:g,minLength:r.minLength},l);e.data(f.www,l);e.data(f.typeahead,it)}var l;return s=t.isArray(s)?s:[].slice.call(arguments,1),r=r||{},l=e(r.classNames),this.each(p)},isEnabled:function(){var n;return r(this.first(),function(t){n=t.isEnabled()}),n},enable:function(){return r(this,function(n){n.enable()}),this},disable:function(){return r(this,function(n){n.disable()}),this},isActive:function(){var n;return r(this.first(),function(t){n=t.isActive()}),n},activate:function(){return r(this,function(n){n.activate()}),this},deactivate:function(){return r(this,function(n){n.deactivate()}),this},isOpen:function(){var n;return r(this.first(),function(t){n=t.isOpen()}),n},open:function(){return r(this,function(n){n.open()}),this},close:function(){return r(this,function(n){n.close()}),this},select:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.select(u)}),i},autocomplete:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.autocomplete(u)}),i},moveCursor:function(n){var t=!1;return r(this.first(),function(i){t=i.moveCursor(n)}),t},val:function(n){var t;return arguments.length?(r(this,function(t){t.setVal(n)}),this):(r(this.first(),function(n){t=n.getVal()}),t)},destroy:function(){return r(this,function(n,t){w(t);n.destroy()}),this}};n.fn.typeahead=function(n){return s[n]?s[n].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=l,this}})()});autocompSelection=[];dealerId=0;$("#loopAutocomp").typeahead({minLength:1,highlight:!0,hint:!0},{source:autocompMakeMenuEntries,name:"matches",display:autocompFormatResult,templates:{suggestion:function(n){return"<div>"+n.PrettyText+"<\/div>"}},limit:50});$("#loopAutocomp").bind("typeahead:select",autocompItemSelected);$("#loopAutocomp").bind("typeahead:autocompleted",autocompItemSelected)