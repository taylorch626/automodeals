(function() {
  /**
   * Request the icon sprite
   */
  var ajax = new XMLHttpRequest();
  ajax.open('GET', 'https://static.ksl.com/ksl-svg-sprite/sprite.svgz', true);
  ajax.send();

  /**
   * Once you receive it, inject it into the HTML
   */
  ajax.onload = function(e) {
    var div = document.createElement('div');
    div.style.display = 'none';
    div.innerHTML = ajax.responseText;
    // sometimes body is null
    if (document.body) {
      document.body.insertBefore(div, document.body.childNodes[0]);
    } else {
      // track how much time has elapsed
      var elapsed = 0;
      // try to set the body a few times
      var interval = setInterval(function() {
        // probably shouldn't try for more than a second
        if (elapsed > 1000) {
          clearInterval(interval);
        // check if body is there yet
        } else if (document.body) {
          document.body.insertBefore(div, document.body.childNodes[0]);
          clearInterval(interval);
        // guess we gotta try again
        } else {
          elapsed += 50;
        }
      }, 50);
    }
  };
}());
